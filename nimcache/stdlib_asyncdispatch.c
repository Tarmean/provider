/* Generated by Nim Compiler v0.13.0 */
/*   (c) 2015 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: Linux, amd64, gcc */
/* Command for C compiler:
   gcc -c  -w  -I/usr/lib/nim -o /home/cyril/Projects/provider/nimcache/stdlib_asyncdispatch.o /home/cyril/Projects/provider/nimcache/stdlib_asyncdispatch.c */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include <sys/epoll.h>
#include <sys/socket.h>
#include <netdb.h>
#include <errno.h>
#include <setjmp.h>
typedef struct FutureHEX3Aobjecttype190284 FutureHEX3Aobjecttype190284;
typedef struct FuturebaseHEX3Aobjecttype190009 FuturebaseHEX3Aobjecttype190009;
typedef struct TNimObject TNimObject;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct Exception Exception;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct Futureerror190008 Futureerror190008;
typedef struct TY190810 TY190810;
typedef struct TY190813 TY190813;
typedef struct Cell47905 Cell47905;
typedef struct Cellseq47921 Cellseq47921;
typedef struct Gcheap50218 Gcheap50218;
typedef struct Gcstack50216 Gcstack50216;
typedef struct Cellset47917 Cellset47917;
typedef struct Pagedesc47913 Pagedesc47913;
typedef struct Memregion30088 Memregion30088;
typedef struct Smallchunk30040 Smallchunk30040;
typedef struct Llchunk30082 Llchunk30082;
typedef struct Bigchunk30042 Bigchunk30042;
typedef struct Intset30014 Intset30014;
typedef struct Trunk30010 Trunk30010;
typedef struct Avlnode30086 Avlnode30086;
typedef struct Gcstat50214 Gcstat50214;
typedef struct PdispatcherbaseHEX3Aobjecttype190988 PdispatcherbaseHEX3Aobjecttype190988;
typedef struct TY190989 TY190989;
typedef struct TY190990 TY190990;
typedef struct FutureHEX3Aobjecttype197867 FutureHEX3Aobjecttype197867;
typedef struct FutureHEX3Aobjecttype198692 FutureHEX3Aobjecttype198692;
typedef struct FutureHEX3Aobjecttype199569 FutureHEX3Aobjecttype199569;
typedef struct TY199562 TY199562;
typedef struct PdispatcherHEX3Aobjecttype196218 PdispatcherHEX3Aobjecttype196218;
typedef struct Selector193441 Selector193441;
typedef struct Table193451 Table193451;
typedef struct Keyvaluepairseq193454 Keyvaluepairseq193454;
typedef struct PdataHEX3Aobjecttype196211 PdataHEX3Aobjecttype196211;
typedef struct TY196213 TY196213;
typedef struct Valueerror3646 Valueerror3646;
typedef struct Selectorkey193427 Selectorkey193427;
typedef struct Readyinfo193429 Readyinfo193429;
typedef struct TY194449 TY194449;
typedef struct TY197841 TY197841;
typedef struct Oserror3630 Oserror3630;
typedef struct Systemerror3626 Systemerror3626;
typedef struct TY198670 TY198670;
typedef struct TY199461 TY199461;
typedef struct TY199546 TY199546;
typedef struct TY200420 TY200420;
typedef struct FutureHEX3Aobjecttype200645 FutureHEX3Aobjecttype200645;
typedef struct TY202028 TY202028;
typedef struct TY202036 TY202036;
typedef struct TY203619 TY203619;
typedef struct TY203611 TY203611;
typedef struct TSafePoint TSafePoint;
typedef struct FutureHEX3Aobjecttype207243 FutureHEX3Aobjecttype207243;
typedef struct TY207236 TY207236;
typedef struct Asyncsocketdesc204202 Asyncsocketdesc204202;
typedef struct FutureHEX3Aobjecttype208245 FutureHEX3Aobjecttype208245;
typedef struct TY209628 TY209628;
typedef struct TY213652 TY213652;
typedef struct Basechunk30038 Basechunk30038;
typedef struct Freecell30030 Freecell30030;
typedef struct Keyvaluepair193457 Keyvaluepair193457;
typedef N_NIMCALL_PTR(void, TY3489) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, TY3494) (void* p);
struct  TNimType  {
NI size;
NU8 kind;
NU8 flags;
TNimType* base;
TNimNode* node;
void* finalizer;
TY3489 marker;
TY3494 deepcopy;
};
struct  TNimObject  {
TNimType* m_type;
};
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (void* ClEnv);
void* ClEnv;
} TY190010;
struct  TGenericSeq  {
NI len;
NI reserved;
};
struct  NimStringDesc  {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct  FuturebaseHEX3Aobjecttype190009  {
  TNimObject Sup;
TY190010 cb;
NIM_BOOL finished;
Exception* error;
NimStringDesc* errorstacktrace;
NimStringDesc* stacktrace;
NI id;
NimStringDesc* fromproc;
};
struct  FutureHEX3Aobjecttype190284  {
  FuturebaseHEX3Aobjecttype190009 Sup;
};
typedef NU8 TY81010[32];
struct  Exception  {
  TNimObject Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
};
struct  Futureerror190008  {
  Exception Sup;
FuturebaseHEX3Aobjecttype190009* cause;
};
struct  TNimNode  {
NU8 kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct TY190810 {
void* Field0;
TY190813* Field1;
};
struct TY190813 {
char dummy;
};
struct  Cell47905  {
NI refcount;
TNimType* typ;
};
struct  Cellseq47921  {
NI len;
NI cap;
Cell47905** d;
};
struct  Cellset47917  {
NI counter;
NI max;
Pagedesc47913* head;
Pagedesc47913** data;
};
typedef Smallchunk30040* TY30103[512];
typedef Trunk30010* Trunkbuckets30012[256];
struct  Intset30014  {
Trunkbuckets30012 data;
};
struct  Memregion30088  {
NI minlargeobj;
NI maxlargeobj;
TY30103 freesmallchunks;
Llchunk30082* llmem;
NI currmem;
NI maxmem;
NI freemem;
NI lastsize;
Bigchunk30042* freechunkslist;
Intset30014 chunkstarts;
Avlnode30086* root;
Avlnode30086* deleted;
Avlnode30086* last;
Avlnode30086* freeavlnodes;
};
struct  Gcstat50214  {
NI stackscans;
NI cyclecollections;
NI maxthreshold;
NI maxstacksize;
NI maxstackcells;
NI cycletablesize;
NI64 maxpause;
};
struct  Gcheap50218  {
Gcstack50216* stack;
void* stackbottom;
NI cyclethreshold;
Cellseq47921 zct;
Cellseq47921 decstack;
Cellset47917 cycleroots;
Cellseq47921 tempstack;
NI recgclock;
Memregion30088 region;
Gcstat50214 stat;
};
typedef N_CLOSURE_PTR(void, TMP672) (void);
typedef N_CLOSURE_PTR(void, TMP673) (void);
struct TY190990 {
NF Field0;
FutureHEX3Aobjecttype190284* Field1;
};
struct  PdispatcherbaseHEX3Aobjecttype190988  {
  TNimObject Sup;
TY190989* timers;
};
typedef N_CLOSURE_PTR(void, TMP711) (void);
struct  FutureHEX3Aobjecttype197867  {
  FuturebaseHEX3Aobjecttype190009 Sup;
NimStringDesc* value;
};
typedef N_CLOSURE_PTR(void, TMP715) (void);
typedef N_CLOSURE_PTR(void, TMP716) (void);
struct  FutureHEX3Aobjecttype198692  {
  FuturebaseHEX3Aobjecttype190009 Sup;
NI value;
};
typedef N_CLOSURE_PTR(void, TMP719) (void);
typedef N_CLOSURE_PTR(void, TMP720) (void);
struct TY199562 {
NimStringDesc* Field0;
int Field1;
};
struct  FutureHEX3Aobjecttype199569  {
  FuturebaseHEX3Aobjecttype190009 Sup;
TY199562 value;
};
typedef N_CLOSURE_PTR(void, TMP724) (void);
typedef N_CLOSURE_PTR(void, TMP725) (void);
typedef struct epoll_event TY193444[64];
struct  Table193451  {
Keyvaluepairseq193454* data;
NI counter;
};
struct  Selector193441  {
int epollfd;
TY193444 events;
Table193451 fds;
};
struct  PdispatcherHEX3Aobjecttype196218  {
  PdispatcherbaseHEX3Aobjecttype190988 Sup;
Selector193441 selector;
};
struct  PdataHEX3Aobjecttype196211  {
  TNimObject Sup;
int fd;
TY196213* readcbs;
TY196213* writecbs;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClPrc) (int fd, void* ClEnv);
void* ClEnv;
} Callback196204;
struct  Valueerror3646  {
  Exception Sup;
};
struct  Selectorkey193427  {
int fd;
NU8 events;
TNimObject* data;
};
struct Readyinfo193429 {
Selectorkey193427 Field0;
NU8 Field1;
};
typedef N_CLOSURE_PTR(NIM_BOOL, TMP737) (int fd);
typedef N_CLOSURE_PTR(NIM_BOOL, TMP739) (int fd);
struct  TY197841  {
NI HEX3Astate;
FutureHEX3Aobjecttype190284* retfuture197610;
};
struct  Systemerror3626  {
  Exception Sup;
};
struct  Oserror3630  {
  Systemerror3626 Sup;
NI32 errorcode;
};
struct  TY198670  {
NI HEX3Astate;
NimStringDesc* readbuffer198011;
NI size197858;
NU8 flags197861;
FutureHEX3Aobjecttype197867* retfuture198010;
};
struct  TY199461  {
NI HEX3Astate;
NCSTRING buf198682;
NI size198683;
NU8 flags198686;
FutureHEX3Aobjecttype198692* retfuture198810;
};
struct  TY199546  {
NI HEX3Astate;
NimStringDesc* data199473;
NI written199489;
NU8 flags199476;
FutureHEX3Aobjecttype190284* retfuture199488;
};
struct  TY200420  {
NI HEX3Astate;
NU8 flags199560;
FutureHEX3Aobjecttype199569* retfuture199610;
};
struct  FutureHEX3Aobjecttype200645  {
  FuturebaseHEX3Aobjecttype190009 Sup;
int value;
};
typedef N_CLOSURE_PTR(void, TMP768) (void);
typedef N_CLOSURE_PTR(void, TMP773) (void);
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (FutureHEX3Aobjecttype199569* future_202021, void* ClEnv);
void* ClEnv;
} TY202017;
struct  TY202028  {
NI HEX3Astate;
TY202017 cb202024;
FutureHEX3Aobjecttype199569* future202016;
};
typedef N_CLOSURE_PTR(void, TMP777) (FutureHEX3Aobjecttype199569* future_202021);
struct  TY202036  {
NI HEX3Astate;
FutureHEX3Aobjecttype200645* retfut200810;
};
typedef struct {
N_NIMCALL_PTR(FuturebaseHEX3Aobjecttype190009*, ClPrc) (void* ClEnv);
void* ClEnv;
} TY202778;
struct  TY203619  {
NI HEX3Astate;
int socket202766;
FutureHEX3Aobjecttype197867* retfuture202760;
TY202778 nameitervar203431;
};
struct  TY203611  {
NI HEX3Astate;
NimStringDesc* result202780;
NimStringDesc* c202786;
FutureHEX3Aobjecttype197867* future202762;
TY203619* HEX3Aup;
FutureHEX3Aobjecttype197867* future202763;
};
typedef struct {
N_NIMCALL_PTR(NIM_BOOL, ClPrc) (Exception* e, void* ClEnv);
void* ClEnv;
} TY17811;
struct  TSafePoint  {
TSafePoint* prev;
NI status;
jmp_buf context;
NIM_BOOL hasRaiseAction;
TY17811 raiseAction;
};
typedef N_CLOSURE_PTR(FuturebaseHEX3Aobjecttype190009*, TMP792) (void);
typedef N_CLOSURE_PTR(void, TMP794) (void);
struct TY207236 {
NimStringDesc* Field0;
Asyncsocketdesc204202* Field1;
};
struct  FutureHEX3Aobjecttype207243  {
  FuturebaseHEX3Aobjecttype190009 Sup;
TY207236 value;
};
typedef N_CLOSURE_PTR(void, TMP847) (void);
typedef N_CLOSURE_PTR(void, TMP848) (void);
struct  FutureHEX3Aobjecttype208245  {
  FuturebaseHEX3Aobjecttype190009 Sup;
Asyncsocketdesc204202* value;
};
typedef N_CLOSURE_PTR(void, TMP855) (void);
typedef N_CLOSURE_PTR(void, TMP856) (void);
typedef struct {
N_NIMCALL_PTR(void, ClPrc) (FutureHEX3Aobjecttype207243* future_209621, void* ClEnv);
void* ClEnv;
} TY209617;
struct  TY209628  {
NI HEX3Astate;
TY209617 cb209624;
FutureHEX3Aobjecttype207243* future209616;
};
typedef N_CLOSURE_PTR(void, TMP860) (FutureHEX3Aobjecttype207243* future_209621);
typedef N_CLOSURE_PTR(void, TMP865) (void);
struct  TY213652  {
NI HEX3Astate;
FutureHEX3Aobjecttype190284* future213641;
};
struct  Gcstack50216  {
Gcstack50216* prev;
Gcstack50216* next;
void* starts;
void* pos;
NI maxstacksize;
};
typedef NI TY30019[8];
struct  Pagedesc47913  {
Pagedesc47913* next;
NI key;
TY30019 bits;
};
struct  Basechunk30038  {
NI prevsize;
NI size;
NIM_BOOL used;
};
struct  Smallchunk30040  {
  Basechunk30038 Sup;
Smallchunk30040* next;
Smallchunk30040* prev;
Freecell30030* freelist;
NI free;
NI acc;
NF data;
};
struct  Llchunk30082  {
NI size;
NI acc;
Llchunk30082* next;
};
struct  Bigchunk30042  {
  Basechunk30038 Sup;
Bigchunk30042* next;
Bigchunk30042* prev;
NI align;
NF data;
};
struct  Trunk30010  {
Trunk30010* next;
NI key;
TY30019 bits;
};
typedef Avlnode30086* TY30093[2];
struct  Avlnode30086  {
TY30093 link;
NI key;
NI upperbound;
NI level;
};
struct Keyvaluepair193457 {
NI Field0;
int Field1;
Selectorkey193427 Field2;
};
typedef NIM_CHAR TY132052[256];
typedef NIM_CHAR TY204209[4001];
struct  Asyncsocketdesc204202  {
int fd;
NIM_BOOL closed;
NIM_BOOL isbuffered;
union{
struct {TY204209 buffer;
NI currpos;
NI buflen;
} S1;
} isbufferedU;
NIM_BOOL isssl;
NU8 domain;
NU8 socktype;
NU8 protocol;
};
struct  Freecell30030  {
Freecell30030* next;
NI zerofield;
};
struct TY190989 {
  TGenericSeq Sup;
  TY190990 data[SEQ_DECL_SIZE];
};
struct TY196213 {
  TGenericSeq Sup;
  Callback196204 data[SEQ_DECL_SIZE];
};
struct TY194449 {
  TGenericSeq Sup;
  Readyinfo193429 data[SEQ_DECL_SIZE];
};
struct Keyvaluepairseq193454 {
  TGenericSeq Sup;
  Keyvaluepair193457 data[SEQ_DECL_SIZE];
};
N_NIMCALL(void, checkfinished_190289)(FutureHEX3Aobjecttype190284* future);
N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
N_NIMCALL(NimStringDesc*, nimIntToStr)(NI x);
N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_NIMCALL(NimStringDesc*, nsuIndent)(NimStringDesc* s, NI count, NimStringDesc* padding);
N_NIMCALL(NimStringDesc*, nsuStrip)(NimStringDesc* s, NIM_BOOL leading, NIM_BOOL trailing, TY81010 chars);
N_NIMCALL(NimStringDesc*, getstacktrace_19001)(void);
N_NIMCALL(void, TMP667)(void* p, NI op);
N_NIMCALL(void, nimGCvisit)(void* d, NI op);
N_NIMCALL(void, TMP668)(void* p, NI op);
N_NIMCALL(void, TMP669)(void* p, NI op);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(Cell47905*, usrtocell_51840)(void* usr);
static N_INLINE(void, nimFrame)(TFrame* s);
N_NOINLINE(void, stackoverflow_22201)(void);
static N_INLINE(void, popFrame)(void);
static N_INLINE(void, rtladdzct_53401)(Cell47905* c);
N_NOINLINE(void, addzct_51817)(Cellseq47921* s, Cell47905* c);
static N_INLINE(void, asgnRef)(void** dest, void* src);
static N_INLINE(void, incref_54219)(Cell47905* c);
static N_INLINE(NIM_BOOL, canbecycleroot_51858)(Cell47905* c);
static N_INLINE(void, rtladdcycleroot_52620)(Cell47905* c);
N_NOINLINE(void, incl_48647)(Cellset47917* s, Cell47905* cell);
static N_INLINE(void, decref_53801)(Cell47905* c);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
N_NIMCALL(void, complete_190277)(FutureHEX3Aobjecttype190284* future);
N_NIMCALL(void, failedassertimpl_89116)(NimStringDesc* msg);
N_NIMCALL(void, callbackHEX3D_190841)(FuturebaseHEX3Aobjecttype190009* future, TY190010 cb);
N_NIMCALL(NIM_BOOL, failed_190922)(FuturebaseHEX3Aobjecttype190009* future);
N_NIMCALL(void, processtimers_190997)(PdispatcherbaseHEX3Aobjecttype190988* p);
N_NIMCALL(void, TMP675)(void* p, NI op);
N_NIMCALL(void, TMP676)(void* p, NI op);
N_NIMCALL(void, genericSeqAssign)(void* dest, void* src_84404, TNimType* mt);
static N_INLINE(void, nimGCunref)(void* p);
N_NIMCALL(void*, newSeqRC1)(TNimType* typ, NI len);
N_NOINLINE(void, raiseIndexError)(void);
N_NIMCALL(NF, ntepochTime)(void);
N_NIMCALL(TGenericSeq*, incrSeqV2)(TGenericSeq* seq, NI elemsize);
static N_INLINE(NI, addInt)(NI a, NI b);
N_NOINLINE(void, raiseOverflow)(void);
N_NIMCALL(FutureHEX3Aobjecttype190284*, newfuture_197533)(NimStringDesc* fromproc);
static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src);
N_NIMCALL(void, fail_197630)(FutureHEX3Aobjecttype190284* future, Exception* error);
N_NIMCALL(NimStringDesc*, getstacktrace_19003)(Exception* e);
N_NIMCALL(FutureHEX3Aobjecttype197867*, newfuture_197872)(NimStringDesc* fromproc);
N_NIMCALL(void, TMP712)(void* p, NI op);
N_NIMCALL(void, complete_198032)(FutureHEX3Aobjecttype197867* future, NimStringDesc* val);
N_NIMCALL(void, checkfinished_198041)(FutureHEX3Aobjecttype197867* future);
N_NIMCALL(NimStringDesc*, reprStr)(NimStringDesc* s);
N_NIMCALL(void, fail_198624)(FutureHEX3Aobjecttype197867* future, Exception* error);
N_NIMCALL(FutureHEX3Aobjecttype198692*, newfuture_198697)(NimStringDesc* fromproc);
N_NIMCALL(void, TMP717)(void* p, NI op);
N_NIMCALL(void, complete_198830)(FutureHEX3Aobjecttype198692* future, NI val);
N_NIMCALL(void, checkfinished_198839)(FutureHEX3Aobjecttype198692* future);
N_NIMCALL(void, fail_199424)(FutureHEX3Aobjecttype198692* future, Exception* error);
N_NIMCALL(FutureHEX3Aobjecttype199569*, newfuture_199577)(NimStringDesc* fromproc);
N_NIMCALL(void, TMP722)(void* p, NI op);
N_NIMCALL(void, fail_199815)(FutureHEX3Aobjecttype199569* future, Exception* error);
N_NIMCALL(void, checkfinished_199824)(FutureHEX3Aobjecttype199569* future);
N_NIMCALL(void, complete_200228)(FutureHEX3Aobjecttype199569* future, TY199562 val);
N_NIMCALL(PdispatcherHEX3Aobjecttype196218*, newdispatcher_196229)(void);
N_NIMCALL(void, TMP729)(void* p, NI op);
N_NIMCALL(void, newselector_194822)(Selector193441* Result);
N_NIMCALL(PdispatcherHEX3Aobjecttype196218*, getglobaldispatcher_196257)(void);
N_NIMCALL(void, update_196268)(int fd, NU8 events);
N_NIMCALL(NIM_BOOL, contains_195211)(Selector193441* s, int fd);
N_NIMCALL(void, update_193738)(Selector193441* s, int fd, NU8 events);
N_NIMCALL(void, register_196404)(int fd);
N_NIMCALL(void, TMP733)(void* p, NI op);
N_NIMCALL(void, TMP734)(void* p, NI op);
N_NIMCALL(void, register_193515)(Selector193441* s, int fd, NU8 events, TNimObject* data);
N_NIMCALL(int, newasyncnativesocket_196446)(int domain, int socktype, int protocol);
N_NIMCALL(int, newnativesocket_177007)(int domain, int socktype, int protocol);
N_NIMCALL(void, setblocking_180637)(int s, NIM_BOOL blocking);
N_NIMCALL(int, newasyncnativesocket_196603)(NU8 domain, NU8 socktype, NU8 protocol);
N_NIMCALL(int, newnativesocket_177001)(NU8 domain, NU8 socktype, NU8 protocol);
N_NIMCALL(void, closesocket_196803)(int sock);
N_NIMCALL(void, unregister_194087)(Selector193441* s, int fd);
N_NIMCALL(void, close_177013)(int socket);
N_NIMCALL(void, unregister_196810)(int fd);
N_NIMCALL(void, addread_196815)(int fd, Callback196204 cb);
N_NIMCALL(void, HEX5BHEX5D_195267)(Selector193441* s, int fd, Selectorkey193427* Result);
N_NIMCALL(void, chckObj)(TNimType* obj, TNimType* subclass);
N_NIMCALL(void, addwrite_196860)(int fd, Callback196204 cb);
N_NIMCALL(void, poll_196905)(NI timeout);
N_NIMCALL(TY194449*, select_194444)(Selector193441* s, NI timeout);
N_NIMCALL(NIM_BOOL, contains_195401)(Selector193441* s, Selectorkey193427 key);
N_NIMCALL(FutureHEX3Aobjecttype190284*, connect_197523)(int socket, NimStringDesc* address, NU16 port, NU8 domain);
N_NIMCALL(void, TMP743)(void* p, NI op);
N_NIMCALL(NU8, getsockdomain_179402)(int socket);
N_NIMCALL(struct addrinfo*, getaddrinfo_177402)(NimStringDesc* address, NU16 port, NU8 domain, NU8 socktype, NU8 protocol);
N_NIMCALL(NI32, oslasterror_141819)(void);
N_CLOSURE(NIM_BOOL, cb_197611)(int fd, void* ClEnv);
N_NIMCALL(NI, getsockoptint_180617)(int socket, NI level, NI optname);
N_NIMCALL(NimStringDesc*, oserrormsg_141611)(NI32 errorcode);
static N_INLINE(NI, chckRange)(NI i, NI a, NI b);
N_NOINLINE(void, raiseRangeError)(NI64 val);
N_NIMCALL(void, dealloc_177802)(struct addrinfo* ai);
N_NIMCALL(FutureHEX3Aobjecttype197867*, recv_197855)(int socket, NI size, NU8 flags);
N_NIMCALL(void, TMP750)(void* p, NI op);
N_NIMCALL(NimStringDesc*, mnewString)(NI len);
N_NIMCALL(NimStringDesc*, mnewString)(NI len);
N_CLOSURE(NIM_BOOL, cb_198012)(int sock, void* ClEnv);
N_NIMCALL(int, toosflags_182625)(NU8 socketflags);
N_NIMCALL(NIM_BOOL, isdisconnectionerror_182473)(NU8 flags, NI32 lasterror);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* s, NI newlen);
N_NIMCALL(FutureHEX3Aobjecttype198692*, recvinto_198679)(int socket, NCSTRING buf, NI size, NU8 flags);
N_NIMCALL(void, TMP754)(void* p, NI op);
N_CLOSURE(NIM_BOOL, cb_198811)(int sock, void* ClEnv);
N_NIMCALL(FutureHEX3Aobjecttype190284*, send_199470)(int socket, NimStringDesc* data, NU8 flags);
N_NIMCALL(void, TMP757)(void* p, NI op);
N_CLOSURE(NIM_BOOL, cb_199490)(int sock, void* ClEnv);
static N_INLINE(NI, subInt)(NI a, NI b);
N_NIMCALL(FutureHEX3Aobjecttype199569*, acceptaddr_199555)(int socket, NU8 flags);
N_NIMCALL(void, TMP762)(void* p, NI op);
N_CLOSURE(NIM_BOOL, cb_199611)(int sock, void* ClEnv);
N_NIMCALL(NimStringDesc*, getaddrstring_179413)(struct sockaddr* sockaddr);
N_NIMCALL(FutureHEX3Aobjecttype190284*, sleepasync_200606)(NI ms);
static N_INLINE(NF, HEX2F_88438)(NI x, NI y);
N_NIMCALL(FutureHEX3Aobjecttype200645*, newfuture_200650)(NimStringDesc* fromproc);
N_NIMCALL(void, TMP766)(void* p, NI op);
N_NIMCALL(void, fail_201002)(FutureHEX3Aobjecttype200645* future, Exception* error);
N_NIMCALL(void, checkfinished_201011)(FutureHEX3Aobjecttype200645* future);
N_NIMCALL(void, read_201425)(FutureHEX3Aobjecttype199569* future, TY199562* Result);
N_NIMCALL(void, injectstacktrace_201445)(FutureHEX3Aobjecttype199569* future);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(void, complete_201815)(FutureHEX3Aobjecttype200645* future, int val);
N_NIMCALL(void, callbackHEX3D_202011)(FutureHEX3Aobjecttype199569* future, TY202017 cb);
N_NIMCALL(void, TMP776)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_202025)(void* ClEnv);
N_NIMCALL(FutureHEX3Aobjecttype200645*, accept_200634)(int socket, NU8 flags);
N_NIMCALL(void, TMP779)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_200812)(FutureHEX3Aobjecttype199569* future, void* ClEnv);
N_NIMCALL(NimStringDesc*, read_202788)(FutureHEX3Aobjecttype197867* future);
N_NIMCALL(void, injectstacktrace_202808)(FutureHEX3Aobjecttype197867* future);
static N_INLINE(NIM_BOOL, finished_203437)(TY202778 x);
N_NIMCALL(FutureHEX3Aobjecttype197867*, recvline_202764)(int socket);
N_NIMCALL(void, TMP784)(void* p, NI op);
N_NIMCALL(void, TMP787)(void* p, NI op);
N_CLOSURE(FuturebaseHEX3Aobjecttype190009*, recvlineiter_202761)(void* ClEnv);
static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b);
N_CLOSURE(void, cb_203434)(void* ClEnv);
static N_INLINE(void, pushSafePoint)(TSafePoint* s);
static N_INLINE(void, popSafePoint)(void);
static N_INLINE(void, setFrame)(TFrame* s);
N_NIMCALL(void, reraiseException)(void);
static N_INLINE(Exception*, getCurrentException)(void);
static N_INLINE(void, popCurrentException)(void);
N_NIMCALL(void, runforever_203634)(void);
N_NIMCALL(void, injectstacktrace_204644)(FutureHEX3Aobjecttype190284* future);
N_NIMCALL(void, injectstacktrace_205622)(FutureHEX3Aobjecttype198692* future);
N_NIMCALL(void, TMP844)(void* p, NI op);
N_NIMCALL(void, checkfinished_207644)(FutureHEX3Aobjecttype207243* future);
N_NIMCALL(void, TMP853)(void* p, NI op);
N_NIMCALL(void, checkfinished_208644)(FutureHEX3Aobjecttype208245* future);
N_NIMCALL(void, injectstacktrace_209045)(FutureHEX3Aobjecttype207243* future);
N_NIMCALL(void, TMP859)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_209625)(void* ClEnv);
N_NIMCALL(void, TMP926)(void* p, NI op);
N_CLOSURE(void, HEX3Aanonymous_213642)(void* ClEnv);
STRING_LITERAL(TMP653, "", 0);
STRING_LITERAL(TMP654, "An attempt was made to complete a Future more than once. ", 57);
STRING_LITERAL(TMP655, "Details:", 8);
STRING_LITERAL(TMP656, "\012  Future ID: ", 14);
STRING_LITERAL(TMP657, "\012  Created in proc: ", 20);
STRING_LITERAL(TMP658, "\012  Stack trace to moment of creation:", 37);
STRING_LITERAL(TMP659, "\012", 1);
static NIM_CONST TY81010 TMP662 = {
0x00, 0x3E, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
;
STRING_LITERAL(TMP663, " ", 1);
STRING_LITERAL(TMP664, "\012  Stack trace to moment of secondary completion:", 49);
STRING_LITERAL(TMP670, "future.error == nil ", 20);
static NIM_CONST TY190010 TMP671 = {NIM_NIL,NIM_NIL};
STRING_LITERAL(TMP678, "len(a) == L seq modified while iterating over it", 48);
STRING_LITERAL(TMP714, "\012  Contents (string): ", 22);
STRING_LITERAL(TMP730, "contains(p.selector, SocketHandle(fd)) ", 39);
STRING_LITERAL(TMP735, "File descriptor not registered.", 31);
STRING_LITERAL(TMP736, "data.fd == AsyncFD(info.key.fd) ", 32);
STRING_LITERAL(TMP744, "connect", 7);
STRING_LITERAL(TMP745, "getSockDomain(SocketHandle(socket)) == domain ", 46);
STRING_LITERAL(TMP751, "recv", 4);
STRING_LITERAL(TMP755, "recvInto", 8);
STRING_LITERAL(TMP758, "send", 4);
STRING_LITERAL(TMP763, "acceptAddr", 10);
STRING_LITERAL(TMP764, "not contains({EWOULDBLOCK, EAGAIN}, int32(lastError)) ", 54);
STRING_LITERAL(TMP765, "sleepAsync", 10);
STRING_LITERAL(TMP769, "\012  ", 3);
STRING_LITERAL(TMP770, "\'s lead up to read of failed Future:", 36);
STRING_LITERAL(TMP771, "\012    Empty or nil stack trace.", 30);
STRING_LITERAL(TMP772, "Future still in progress.", 25);
STRING_LITERAL(TMP780, "accept", 6);
STRING_LITERAL(TMP781, "future.finished ", 16);
STRING_LITERAL(TMP785, "recvLine", 8);
STRING_LITERAL(TMP788, "\015", 1);
STRING_LITERAL(TMP789, "c == \"\\x0A\" ", 12);
STRING_LITERAL(TMP790, "\015\012", 2);
STRING_LITERAL(TMP793, "retFuture.finished Async procedure\'s (recvLine) return Future w"
"as not finished.", 79);
STRING_LITERAL(TMP846, "No error in future.", 19);
STRING_LITERAL(TMP864, "Future[T](future).error == nil ", 31);
NI currentid_190037;
extern TNimType NTI3624; /* Exception */
TNimType NTI190008; /* FutureError */
extern TNimType NTI3608; /* RootObj */
TNimType NTI190009; /* FutureBase:ObjectType */
TNimType NTI190010; /* (pointer, ref tuple[]) */
extern TNimType NTI142; /* pointer */
TNimType NTI190813; /* tuple[] */
TNimType NTI190812; /* ref tuple[] */
extern TNimType NTI130; /* bool */
extern TNimType NTI10010; /* ref Exception */
extern TNimType NTI138; /* string */
extern TNimType NTI104; /* int */
TNimType NTI190002; /* FutureBase */
TNimType NTI190604; /* ref FutureError */
extern TFrame* frameptr_19436;
extern Gcheap50218 gch_50259;
TNimType NTI190990; /* tuple[finishAt: float, fut: Future[system.void]] */
extern TNimType NTI124; /* float */
TNimType NTI190284; /* Future:ObjectType */
TNimType NTI190283; /* Future */
TNimType NTI190989; /* seq[tuple[finishAt: float, fut: Future[system.void]]] */
TNimType NTI197867; /* Future:ObjectType */
TNimType NTI197866; /* Future */
TNimType NTI198692; /* Future:ObjectType */
TNimType NTI198691; /* Future */
TNimType NTI199569; /* Future:ObjectType */
TNimType NTI199562; /* tuple[address: string, client: AsyncFD] */
extern TNimType NTI7208; /* cint */
TNimType NTI199568; /* Future */
TNimType NTI190988; /* PDispatcherBase:ObjectType */
TNimType NTI196218; /* PDispatcher:ObjectType */
extern TNimType NTI193441; /* Selector */
TNimType NTI196208; /* PDispatcher */
PdispatcherHEX3Aobjecttype196218* gdisp_196256;
TNimType NTI196211; /* PData:ObjectType */
TNimType NTI196204; /* (pointer, ref tuple[]) */
TNimType NTI196213; /* seq[Callback] */
TNimType NTI196206; /* PData */
extern TNimType NTI24025; /* ref ValueError */
extern TNimType NTI3646; /* ValueError */
TNimType NTI197841; /* object */
extern TNimType NTI107021; /* range -1..0(int) */
TNimType NTI197840; /* ref object */
extern TNimType NTI141807; /* ref OSError */
extern TNimType NTI3630; /* OSError */
TNimType NTI198670; /* object */
extern TNimType NTI182414; /* SocketFlag */
TNimType NTI197859; /* set[SocketFlag] */
TNimType NTI198669; /* ref object */
TNimType NTI199461; /* object */
extern TNimType NTI140; /* cstring */
TNimType NTI199460; /* ref object */
TNimType NTI199546; /* object */
TNimType NTI199545; /* ref object */
TNimType NTI200420; /* object */
TNimType NTI200419; /* ref object */
extern int osinvalidsocket_176645;
TNimType NTI200645; /* Future:ObjectType */
TNimType NTI200644; /* Future */
TNimType NTI202028; /* object */
TNimType NTI202017; /* (pointer, ref tuple[]) */
TNimType NTI202027; /* ref object */
TNimType NTI202036; /* object */
TNimType NTI202035; /* ref object */
TNimType NTI203619; /* object */
TNimType NTI202778; /* (pointer, ref tuple[]) */
TNimType NTI203618; /* ref object */
TNimType NTI203611; /* object */
TNimType NTI203613; /* range -1..2(int) */
TNimType NTI203610; /* ref object */
extern TSafePoint* exchandler_19437;
extern Exception* currexception_19439;
TNimType NTI207243; /* Future:ObjectType */
extern TNimType NTI207236; /* tuple[address: string, client: AsyncSocket] */
TNimType NTI207242; /* Future */
TNimType NTI208245; /* Future:ObjectType */
extern TNimType NTI204204; /* AsyncSocket */
TNimType NTI208244; /* Future */
TNimType NTI209628; /* object */
TNimType NTI209617; /* (pointer, ref tuple[]) */
TNimType NTI209627; /* ref object */
TNimType NTI213652; /* object */
TNimType NTI213651; /* ref object */

static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	memcpy(((NCSTRING) ((&(*dest).data[((*dest).Sup.len)- 0]))), ((NCSTRING) ((*src).data)), (NI)((*src).Sup.len + ((NI) 1)));
	(*dest).Sup.len += (*src).Sup.len;
}
N_NIMCALL(void, TMP667)(void* p, NI op) {
	TY190813* a;
	a = (TY190813*)p;
}
N_NIMCALL(void, TMP668)(void* p, NI op) {
	FuturebaseHEX3Aobjecttype190009* a;
	a = (FuturebaseHEX3Aobjecttype190009*)p;
	nimGCvisit((void*)(*a).cb.ClEnv, op);
	nimGCvisit((void*)(*a).error, op);
	nimGCvisit((void*)(*a).errorstacktrace, op);
	nimGCvisit((void*)(*a).stacktrace, op);
	nimGCvisit((void*)(*a).fromproc, op);
}
N_NIMCALL(void, TMP669)(void* p, NI op) {
	Futureerror190008* a;
	a = (Futureerror190008*)p;
	nimGCvisit((void*)(*a).Sup.parent, op);
	nimGCvisit((void*)(*a).Sup.message, op);
	nimGCvisit((void*)(*a).Sup.trace, op);
	nimGCvisit((void*)(*a).cause, op);
}

static N_INLINE(void, nimFrame)(TFrame* s) {
	NI LOC1;
	LOC1 = 0;
	{
		if (!(frameptr_19436 == NIM_NIL)) goto LA4;
		LOC1 = ((NI) 0);
	}
	goto LA2;
	LA4: ;
	{
		LOC1 = ((NI) ((NI16)((*frameptr_19436).calldepth + ((NI16) 1))));
	}
	LA2: ;
	(*s).calldepth = ((NI16) (LOC1));
	(*s).prev = frameptr_19436;
	frameptr_19436 = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA9;
		stackoverflow_22201();
	}
	LA9: ;
}

static N_INLINE(void, popFrame)(void) {
	frameptr_19436 = (*frameptr_19436).prev;
}

static N_INLINE(Cell47905*, usrtocell_51840)(void* usr) {
	Cell47905* result;
	nimfr("usrToCell", "gc.nim")
	result = 0;
	nimln(131, "gc.nim");
	result = ((Cell47905*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(Cell47905))))));
	popFrame();
	return result;
}

static N_INLINE(void, rtladdzct_53401)(Cell47905* c) {
	nimfr("rtlAddZCT", "gc.nim")
	nimln(212, "gc.nim");
	addzct_51817((&gch_50259.zct), c);
	popFrame();
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	Cell47905* c;
	nimfr("nimGCunrefNoCycle", "gc.nim")
	nimln(246, "gc.nim");
	c = usrtocell_51840(p);
	nimln(248, "gc.nim");
	{
		nimln(180, "gc.nim");
		(*c).refcount -= ((NI) 8);
		nimln(181, "gc.nim");
		if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA3;
		nimln(249, "gc.nim");
		rtladdzct_53401(c);
	}
	LA3: ;
	popFrame();
}

static N_INLINE(NIM_BOOL, canbecycleroot_51858)(Cell47905* c) {
	NIM_BOOL result;
	nimfr("canBeCycleRoot", "gc.nim")
	result = 0;
	nimln(134, "gc.nim");
	nimln(1104, "system.nim");
	result = !((((*(*c).typ).flags &(1U<<((NU)(((NU8) 1))&7U)))!=0));
	popFrame();
	return result;
}

static N_INLINE(void, rtladdcycleroot_52620)(Cell47905* c) {
	nimfr("rtlAddCycleRoot", "gc.nim")
	nimln(202, "gc.nim");
	{
		nimln(349, "system.nim");
		nimln(147, "gc.nim");
		if (!!((((NI) ((NI)((*c).refcount & ((NI) 3)))) == ((NI) 3)))) goto LA3;
		nimln(152, "gc.nim");
		(*c).refcount = (NI)((NI)((*c).refcount & ((NI) -4)) | ((NI) 3));
		nimln(204, "gc.nim");
		incl_48647((&gch_50259.cycleroots), c);
	}
	LA3: ;
	popFrame();
}

static N_INLINE(void, incref_54219)(Cell47905* c) {
	nimfr("incRef", "gc.nim")
	nimln(229, "gc.nim");
	(*c).refcount = (NI)((NU64)((*c).refcount) + (NU64)(((NI) 8)));
	nimln(232, "gc.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = canbecycleroot_51858(c);
		if (!LOC3) goto LA4;
		nimln(233, "gc.nim");
		rtladdcycleroot_52620(c);
	}
	LA4: ;
	popFrame();
}

static N_INLINE(void, decref_53801)(Cell47905* c) {
	nimfr("decRef", "gc.nim")
	nimln(219, "gc.nim");
	{
		nimln(180, "gc.nim");
		(*c).refcount -= ((NI) 8);
		nimln(181, "gc.nim");
		if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA3;
		nimln(220, "gc.nim");
		rtladdzct_53401(c);
	}
	goto LA1;
	LA3: ;
	{
		NIM_BOOL LOC6;
		nimln(221, "gc.nim");
		LOC6 = 0;
		LOC6 = canbecycleroot_51858(c);
		if (!LOC6) goto LA7;
		nimln(224, "gc.nim");
		rtladdcycleroot_52620(c);
	}
	goto LA1;
	LA7: ;
	LA1: ;
	popFrame();
}

static N_INLINE(void, asgnRef)(void** dest, void* src) {
	nimfr("asgnRef", "gc.nim")
	nimln(257, "gc.nim");
	{
		Cell47905* LOC5;
		nimln(349, "system.nim");
		if (!!((src == NIM_NIL))) goto LA3;
		nimln(257, "gc.nim");
		LOC5 = 0;
		LOC5 = usrtocell_51840(src);
		incref_54219(LOC5);
	}
	LA3: ;
	nimln(258, "gc.nim");
	{
		Cell47905* LOC10;
		nimln(349, "system.nim");
		if (!!(((*dest) == NIM_NIL))) goto LA8;
		nimln(258, "gc.nim");
		LOC10 = 0;
		LOC10 = usrtocell_51840((*dest));
		decref_53801(LOC10);
	}
	LA8: ;
	nimln(259, "gc.nim");
	(*dest) = src;
	popFrame();
}

N_NIMCALL(void, checkfinished_190289)(FutureHEX3Aobjecttype190284* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(188, "asyncdispatch.nim");
	{
		NimStringDesc* msg;
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		NimStringDesc* LOC7;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		NimStringDesc* LOC11;
		NimStringDesc* LOC12;
		NimStringDesc* LOC13;
		NimStringDesc* LOC14;
		Futureerror190008* err;
		Futureerror190008* e_190603;
		NimStringDesc* LOC15;
		if (!(*future).Sup.finished) goto LA3;
		nimln(189, "asyncdispatch.nim");
		msg = copyString(((NimStringDesc*) &TMP653));
		nimln(190, "asyncdispatch.nim");
		msg = resizeString(msg, 57);
appendString(msg, ((NimStringDesc*) &TMP654));
		nimln(191, "asyncdispatch.nim");
		msg = resizeString(msg, 8);
appendString(msg, ((NimStringDesc*) &TMP655));
		nimln(192, "asyncdispatch.nim");
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = nimIntToStr((*future).Sup.id);
		LOC5 = rawNewString(LOC6->Sup.len + 14);
appendString(LOC5, ((NimStringDesc*) &TMP656));
appendString(LOC5, LOC6);
		msg = resizeString(msg, LOC5->Sup.len + 0);
appendString(msg, LOC5);
		nimln(193, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = rawNewString((*future).Sup.fromproc->Sup.len + 20);
appendString(LOC7, ((NimStringDesc*) &TMP657));
appendString(LOC7, (*future).Sup.fromproc);
		msg = resizeString(msg, LOC7->Sup.len + 0);
appendString(msg, LOC7);
		nimln(194, "asyncdispatch.nim");
		msg = resizeString(msg, 37);
appendString(msg, ((NimStringDesc*) &TMP658));
		nimln(195, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.stacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
		nimln(199, "asyncdispatch.nim");
		msg = resizeString(msg, 49);
appendString(msg, ((NimStringDesc*) &TMP664));
		nimln(200, "asyncdispatch.nim");
		LOC11 = 0;
		LOC12 = 0;
		LOC12 = getstacktrace_19001();
		LOC13 = 0;
		LOC13 = nsuStrip(LOC12, NIM_TRUE, NIM_TRUE, TMP662);
		LOC14 = 0;
		LOC14 = nsuIndent(LOC13, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC11 = rawNewString(LOC14->Sup.len + 1);
appendString(LOC11, ((NimStringDesc*) &TMP659));
appendString(LOC11, LOC14);
		msg = resizeString(msg, LOC11->Sup.len + 0);
appendString(msg, LOC11);
		nimln(201, "asyncdispatch.nim");
		e_190603 = 0;
		nimln(2507, "system.nim");
		e_190603 = (Futureerror190008*) newObj((&NTI190604), sizeof(Futureerror190008));
		(*e_190603).Sup.Sup.m_type = (&NTI190008);
		nimln(2508, "system.nim");
		LOC15 = 0;
		LOC15 = (*e_190603).Sup.message; (*e_190603).Sup.message = copyStringRC1(msg);
		if (LOC15) nimGCunrefNoCycle(LOC15);
		err = e_190603;
		nimln(202, "asyncdispatch.nim");
		asgnRef((void**) (&(*err).cause), &future->Sup);
		nimln(203, "asyncdispatch.nim");
		raiseException((Exception*)err, "FutureError");
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_190277)(FutureHEX3Aobjecttype190284* future) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(218, "asyncdispatch.nim");
	checkfinished_190289(future);
	nimln(219, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_89116(((NimStringDesc*) &TMP670));
	}
	LA3: ;
	nimln(220, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(221, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA7;
		nimln(222, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP672)((*future).Sup.cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, callbackHEX3D_190841)(FuturebaseHEX3Aobjecttype190009* future, TY190010 cb) {
	nimfr("callback=", "asyncdispatch.nim")
	nimln(258, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).cb.ClEnv), cb.ClEnv);
	(*future).cb.ClPrc = cb.ClPrc;
	nimln(259, "asyncdispatch.nim");
	{
		if (!(*future).finished) goto LA3;
		nimln(260, "asyncdispatch.nim");
		(*future).cb.ClEnv? (*future).cb.ClPrc((*future).cb.ClEnv):((TMP673)((*future).cb.ClPrc))();
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(NIM_BOOL, failed_190922)(FuturebaseHEX3Aobjecttype190009* future) {
	NIM_BOOL result;
	nimfr("failed", "asyncdispatch.nim")
{	result = 0;
	nimln(320, "asyncdispatch.nim");
	nimln(349, "system.nim");
	result = !(((*future).error == NIM_NIL));
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP675)(void* p, NI op) {
	FutureHEX3Aobjecttype190284* a;
	a = (FutureHEX3Aobjecttype190284*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
}
N_NIMCALL(void, TMP676)(void* p, NI op) {
	TY190989* a;
	NI LOC1;
	a = (TY190989*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].Field1, op);
	}
}

static N_INLINE(void, nimGCunref)(void* p) {
	Cell47905* LOC1;
	nimfr("nimGCunref", "gc.nim")
	nimln(236, "gc.nim");
	LOC1 = 0;
	LOC1 = usrtocell_51840(p);
	decref_53801(LOC1);
	popFrame();
}

static N_INLINE(NI, addInt)(NI a, NI b) {
	NI result;
{	result = 0;
	result = (NI)((NU64)(a) + (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (((NI) 0) <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (((NI) 0) <= (NI)(result ^ b));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	}BeforeRet: ;
	return result;
}

N_NIMCALL(void, processtimers_190997)(PdispatcherbaseHEX3Aobjecttype190988* p) {
	TY190989* oldtimers;
	nimfr("processTimers", "asyncdispatch.nim")
	nimln(360, "asyncdispatch.nim");
	genericSeqAssign((&oldtimers), (*p).timers, (&NTI190989));
	nimln(361, "asyncdispatch.nim");
	if ((*p).timers) nimGCunref((*p).timers);
	(*p).timers = (TY190989*) newSeqRC1((&NTI190989), 0);
	{
		TY190990 t_191202;
		NI i_191216;
		NI L_191218;
		memset((void*)(&t_191202), 0, sizeof(t_191202));
		nimln(3361, "system.nim");
		i_191216 = ((NI) 0);
		nimln(3362, "system.nim");
		L_191218 = (oldtimers ? oldtimers->Sup.len : 0);
		{
			nimln(3363, "system.nim");
			while (1) {
				NI TMP677;
				if (!(i_191216 < L_191218)) goto LA3;
				nimln(3364, "system.nim");
				if ((NU)(i_191216) >= (NU)(oldtimers->Sup.len)) raiseIndexError();
				t_191202.Field0 = oldtimers->data[i_191216].Field0;
				t_191202.Field1 = oldtimers->data[i_191216].Field1;
				nimln(363, "asyncdispatch.nim");
				{
					NF LOC6;
					nimln(353, "system.nim");
					nimln(363, "asyncdispatch.nim");
					LOC6 = 0;
					LOC6 = ntepochTime();
					if (!(t_191202.Field0 <= LOC6)) goto LA7;
					nimln(364, "asyncdispatch.nim");
					complete_190277(t_191202.Field1);
				}
				goto LA4;
				LA7: ;
				{
					nimln(366, "asyncdispatch.nim");
					(*p).timers = (TY190989*) incrSeqV2(&((*p).timers)->Sup, sizeof(TY190990));
					(*p).timers->data[(*p).timers->Sup.len].Field0 = t_191202.Field0;
					asgnRef((void**) (&(*p).timers->data[(*p).timers->Sup.len].Field1), t_191202.Field1);
					++(*p).timers->Sup.len;
				}
				LA4: ;
				nimln(3365, "system.nim");
				TMP677 = addInt(i_191216, ((NI) 1));
				i_191216 = (NI)(TMP677);
				nimln(3366, "system.nim");
				{
					if (!!(((oldtimers ? oldtimers->Sup.len : 0) == L_191218))) goto LA12;
					failedassertimpl_89116(((NimStringDesc*) &TMP678));
				}
				LA12: ;
			} LA3: ;
		}
	}
	popFrame();
}

static N_INLINE(void, asgnRefNoCycle)(void** dest, void* src) {
	nimfr("asgnRefNoCycle", "gc.nim")
	nimln(264, "gc.nim");
	{
		Cell47905* c;
		nimln(349, "system.nim");
		if (!!((src == NIM_NIL))) goto LA3;
		nimln(265, "gc.nim");
		c = usrtocell_51840(src);
		nimln(182, "gc.nim");
		(*c).refcount += ((NI) 8);
	}
	LA3: ;
	nimln(267, "gc.nim");
	{
		Cell47905* c;
		nimln(349, "system.nim");
		if (!!(((*dest) == NIM_NIL))) goto LA7;
		nimln(268, "gc.nim");
		c = usrtocell_51840((*dest));
		nimln(269, "gc.nim");
		{
			nimln(180, "gc.nim");
			(*c).refcount -= ((NI) 8);
			nimln(181, "gc.nim");
			if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA11;
			nimln(270, "gc.nim");
			rtladdzct_53401(c);
		}
		LA11: ;
	}
	LA7: ;
	nimln(271, "gc.nim");
	(*dest) = src;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype190284*, newfuture_197533)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype190284* result;
	NimStringDesc* LOC1;
	NI TMP710;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(163, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype190284*) newObj((&NTI190283), sizeof(FutureHEX3Aobjecttype190284));
	(*result).Sup.Sup.m_type = (&NTI190284);
	nimln(164, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(166, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_19001());
	nimln(167, "asyncdispatch.nim");
	(*result).Sup.id = currentid_190037;
	nimln(168, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(169, "asyncdispatch.nim");
	TMP710 = addInt(currentid_190037, ((NI) 1));
	currentid_190037 = (NI)(TMP710);
	popFrame();
	return result;
}

N_NIMCALL(void, fail_197630)(FutureHEX3Aobjecttype190284* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	checkfinished_190289(future);
	nimln(237, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(238, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(239, "asyncdispatch.nim");
	nimln(240, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_19003(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19001());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19003(error));
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA9;
		nimln(242, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP711)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP712)(void* p, NI op) {
	FutureHEX3Aobjecttype197867* a;
	a = (FutureHEX3Aobjecttype197867*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
	nimGCvisit((void*)(*a).value, op);
}

N_NIMCALL(FutureHEX3Aobjecttype197867*, newfuture_197872)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype197867* result;
	NimStringDesc* LOC1;
	NI TMP713;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(163, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype197867*) newObj((&NTI197866), sizeof(FutureHEX3Aobjecttype197867));
	(*result).Sup.Sup.m_type = (&NTI197867);
	nimln(164, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(166, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_19001());
	nimln(167, "asyncdispatch.nim");
	(*result).Sup.id = currentid_190037;
	nimln(168, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(169, "asyncdispatch.nim");
	TMP713 = addInt(currentid_190037, ((NI) 1));
	currentid_190037 = (NI)(TMP713);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_198041)(FutureHEX3Aobjecttype197867* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(188, "asyncdispatch.nim");
	{
		NimStringDesc* msg;
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		NimStringDesc* LOC7;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		NimStringDesc* LOC11;
		NimStringDesc* LOC12;
		NimStringDesc* LOC13;
		NimStringDesc* LOC14;
		NimStringDesc* LOC15;
		NimStringDesc* LOC16;
		Futureerror190008* err;
		Futureerror190008* e_198410;
		NimStringDesc* LOC17;
		if (!(*future).Sup.finished) goto LA3;
		nimln(189, "asyncdispatch.nim");
		msg = copyString(((NimStringDesc*) &TMP653));
		nimln(190, "asyncdispatch.nim");
		msg = resizeString(msg, 57);
appendString(msg, ((NimStringDesc*) &TMP654));
		nimln(191, "asyncdispatch.nim");
		msg = resizeString(msg, 8);
appendString(msg, ((NimStringDesc*) &TMP655));
		nimln(192, "asyncdispatch.nim");
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = nimIntToStr((*future).Sup.id);
		LOC5 = rawNewString(LOC6->Sup.len + 14);
appendString(LOC5, ((NimStringDesc*) &TMP656));
appendString(LOC5, LOC6);
		msg = resizeString(msg, LOC5->Sup.len + 0);
appendString(msg, LOC5);
		nimln(193, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = rawNewString((*future).Sup.fromproc->Sup.len + 20);
appendString(LOC7, ((NimStringDesc*) &TMP657));
appendString(LOC7, (*future).Sup.fromproc);
		msg = resizeString(msg, LOC7->Sup.len + 0);
appendString(msg, LOC7);
		nimln(194, "asyncdispatch.nim");
		msg = resizeString(msg, 37);
appendString(msg, ((NimStringDesc*) &TMP658));
		nimln(195, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.stacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
		nimln(197, "asyncdispatch.nim");
		msg = resizeString(msg, 22);
appendString(msg, ((NimStringDesc*) &TMP714));
		nimln(198, "asyncdispatch.nim");
		LOC11 = 0;
		LOC12 = 0;
		LOC12 = nsuIndent(reprStr((*future).value), ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC11 = rawNewString(LOC12->Sup.len + 1);
appendString(LOC11, ((NimStringDesc*) &TMP659));
appendString(LOC11, LOC12);
		msg = resizeString(msg, LOC11->Sup.len + 0);
appendString(msg, LOC11);
		nimln(199, "asyncdispatch.nim");
		msg = resizeString(msg, 49);
appendString(msg, ((NimStringDesc*) &TMP664));
		nimln(200, "asyncdispatch.nim");
		LOC13 = 0;
		LOC14 = 0;
		LOC14 = getstacktrace_19001();
		LOC15 = 0;
		LOC15 = nsuStrip(LOC14, NIM_TRUE, NIM_TRUE, TMP662);
		LOC16 = 0;
		LOC16 = nsuIndent(LOC15, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC13 = rawNewString(LOC16->Sup.len + 1);
appendString(LOC13, ((NimStringDesc*) &TMP659));
appendString(LOC13, LOC16);
		msg = resizeString(msg, LOC13->Sup.len + 0);
appendString(msg, LOC13);
		nimln(201, "asyncdispatch.nim");
		e_198410 = 0;
		nimln(2507, "system.nim");
		e_198410 = (Futureerror190008*) newObj((&NTI190604), sizeof(Futureerror190008));
		(*e_198410).Sup.Sup.m_type = (&NTI190008);
		nimln(2508, "system.nim");
		LOC17 = 0;
		LOC17 = (*e_198410).Sup.message; (*e_198410).Sup.message = copyStringRC1(msg);
		if (LOC17) nimGCunrefNoCycle(LOC17);
		err = e_198410;
		nimln(202, "asyncdispatch.nim");
		asgnRef((void**) (&(*err).cause), &future->Sup);
		nimln(203, "asyncdispatch.nim");
		raiseException((Exception*)err, "FutureError");
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_198032)(FutureHEX3Aobjecttype197867* future, NimStringDesc* val) {
	NimStringDesc* LOC5;
	nimfr("complete", "asyncdispatch.nim")
	nimln(208, "asyncdispatch.nim");
	checkfinished_198041(future);
	nimln(209, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_89116(((NimStringDesc*) &TMP670));
	}
	LA3: ;
	nimln(210, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future).value; (*future).value = copyStringRC1(val);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	nimln(211, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(212, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA8;
		nimln(213, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP715)((*future).Sup.cb.ClPrc))();
	}
	LA8: ;
	popFrame();
}

N_NIMCALL(void, fail_198624)(FutureHEX3Aobjecttype197867* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	checkfinished_198041(future);
	nimln(237, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(238, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(239, "asyncdispatch.nim");
	nimln(240, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_19003(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19001());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19003(error));
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA9;
		nimln(242, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP716)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP717)(void* p, NI op) {
	FutureHEX3Aobjecttype198692* a;
	a = (FutureHEX3Aobjecttype198692*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
}

N_NIMCALL(FutureHEX3Aobjecttype198692*, newfuture_198697)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype198692* result;
	NimStringDesc* LOC1;
	NI TMP718;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(163, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype198692*) newObj((&NTI198691), sizeof(FutureHEX3Aobjecttype198692));
	(*result).Sup.Sup.m_type = (&NTI198692);
	nimln(164, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(166, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_19001());
	nimln(167, "asyncdispatch.nim");
	(*result).Sup.id = currentid_190037;
	nimln(168, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(169, "asyncdispatch.nim");
	TMP718 = addInt(currentid_190037, ((NI) 1));
	currentid_190037 = (NI)(TMP718);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_198839)(FutureHEX3Aobjecttype198692* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(188, "asyncdispatch.nim");
	{
		NimStringDesc* msg;
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		NimStringDesc* LOC7;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		NimStringDesc* LOC11;
		NimStringDesc* LOC12;
		NimStringDesc* LOC13;
		NimStringDesc* LOC14;
		Futureerror190008* err;
		Futureerror190008* e_199203;
		NimStringDesc* LOC15;
		if (!(*future).Sup.finished) goto LA3;
		nimln(189, "asyncdispatch.nim");
		msg = copyString(((NimStringDesc*) &TMP653));
		nimln(190, "asyncdispatch.nim");
		msg = resizeString(msg, 57);
appendString(msg, ((NimStringDesc*) &TMP654));
		nimln(191, "asyncdispatch.nim");
		msg = resizeString(msg, 8);
appendString(msg, ((NimStringDesc*) &TMP655));
		nimln(192, "asyncdispatch.nim");
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = nimIntToStr((*future).Sup.id);
		LOC5 = rawNewString(LOC6->Sup.len + 14);
appendString(LOC5, ((NimStringDesc*) &TMP656));
appendString(LOC5, LOC6);
		msg = resizeString(msg, LOC5->Sup.len + 0);
appendString(msg, LOC5);
		nimln(193, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = rawNewString((*future).Sup.fromproc->Sup.len + 20);
appendString(LOC7, ((NimStringDesc*) &TMP657));
appendString(LOC7, (*future).Sup.fromproc);
		msg = resizeString(msg, LOC7->Sup.len + 0);
appendString(msg, LOC7);
		nimln(194, "asyncdispatch.nim");
		msg = resizeString(msg, 37);
appendString(msg, ((NimStringDesc*) &TMP658));
		nimln(195, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.stacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
		nimln(199, "asyncdispatch.nim");
		msg = resizeString(msg, 49);
appendString(msg, ((NimStringDesc*) &TMP664));
		nimln(200, "asyncdispatch.nim");
		LOC11 = 0;
		LOC12 = 0;
		LOC12 = getstacktrace_19001();
		LOC13 = 0;
		LOC13 = nsuStrip(LOC12, NIM_TRUE, NIM_TRUE, TMP662);
		LOC14 = 0;
		LOC14 = nsuIndent(LOC13, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC11 = rawNewString(LOC14->Sup.len + 1);
appendString(LOC11, ((NimStringDesc*) &TMP659));
appendString(LOC11, LOC14);
		msg = resizeString(msg, LOC11->Sup.len + 0);
appendString(msg, LOC11);
		nimln(201, "asyncdispatch.nim");
		e_199203 = 0;
		nimln(2507, "system.nim");
		e_199203 = (Futureerror190008*) newObj((&NTI190604), sizeof(Futureerror190008));
		(*e_199203).Sup.Sup.m_type = (&NTI190008);
		nimln(2508, "system.nim");
		LOC15 = 0;
		LOC15 = (*e_199203).Sup.message; (*e_199203).Sup.message = copyStringRC1(msg);
		if (LOC15) nimGCunrefNoCycle(LOC15);
		err = e_199203;
		nimln(202, "asyncdispatch.nim");
		asgnRef((void**) (&(*err).cause), &future->Sup);
		nimln(203, "asyncdispatch.nim");
		raiseException((Exception*)err, "FutureError");
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, complete_198830)(FutureHEX3Aobjecttype198692* future, NI val) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(208, "asyncdispatch.nim");
	checkfinished_198839(future);
	nimln(209, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_89116(((NimStringDesc*) &TMP670));
	}
	LA3: ;
	nimln(210, "asyncdispatch.nim");
	(*future).value = val;
	nimln(211, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(212, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA7;
		nimln(213, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP719)((*future).Sup.cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, fail_199424)(FutureHEX3Aobjecttype198692* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	checkfinished_198839(future);
	nimln(237, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(238, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(239, "asyncdispatch.nim");
	nimln(240, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_19003(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19001());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19003(error));
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA9;
		nimln(242, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP720)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP722)(void* p, NI op) {
	FutureHEX3Aobjecttype199569* a;
	a = (FutureHEX3Aobjecttype199569*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
	nimGCvisit((void*)(*a).value.Field0, op);
}

N_NIMCALL(FutureHEX3Aobjecttype199569*, newfuture_199577)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype199569* result;
	NimStringDesc* LOC1;
	NI TMP723;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(163, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype199569*) newObj((&NTI199568), sizeof(FutureHEX3Aobjecttype199569));
	(*result).Sup.Sup.m_type = (&NTI199569);
	nimln(164, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(166, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_19001());
	nimln(167, "asyncdispatch.nim");
	(*result).Sup.id = currentid_190037;
	nimln(168, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(169, "asyncdispatch.nim");
	TMP723 = addInt(currentid_190037, ((NI) 1));
	currentid_190037 = (NI)(TMP723);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_199824)(FutureHEX3Aobjecttype199569* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(188, "asyncdispatch.nim");
	{
		NimStringDesc* msg;
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		NimStringDesc* LOC7;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		NimStringDesc* LOC11;
		NimStringDesc* LOC12;
		NimStringDesc* LOC13;
		NimStringDesc* LOC14;
		Futureerror190008* err;
		Futureerror190008* e_200203;
		NimStringDesc* LOC15;
		if (!(*future).Sup.finished) goto LA3;
		nimln(189, "asyncdispatch.nim");
		msg = copyString(((NimStringDesc*) &TMP653));
		nimln(190, "asyncdispatch.nim");
		msg = resizeString(msg, 57);
appendString(msg, ((NimStringDesc*) &TMP654));
		nimln(191, "asyncdispatch.nim");
		msg = resizeString(msg, 8);
appendString(msg, ((NimStringDesc*) &TMP655));
		nimln(192, "asyncdispatch.nim");
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = nimIntToStr((*future).Sup.id);
		LOC5 = rawNewString(LOC6->Sup.len + 14);
appendString(LOC5, ((NimStringDesc*) &TMP656));
appendString(LOC5, LOC6);
		msg = resizeString(msg, LOC5->Sup.len + 0);
appendString(msg, LOC5);
		nimln(193, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = rawNewString((*future).Sup.fromproc->Sup.len + 20);
appendString(LOC7, ((NimStringDesc*) &TMP657));
appendString(LOC7, (*future).Sup.fromproc);
		msg = resizeString(msg, LOC7->Sup.len + 0);
appendString(msg, LOC7);
		nimln(194, "asyncdispatch.nim");
		msg = resizeString(msg, 37);
appendString(msg, ((NimStringDesc*) &TMP658));
		nimln(195, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.stacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
		nimln(199, "asyncdispatch.nim");
		msg = resizeString(msg, 49);
appendString(msg, ((NimStringDesc*) &TMP664));
		nimln(200, "asyncdispatch.nim");
		LOC11 = 0;
		LOC12 = 0;
		LOC12 = getstacktrace_19001();
		LOC13 = 0;
		LOC13 = nsuStrip(LOC12, NIM_TRUE, NIM_TRUE, TMP662);
		LOC14 = 0;
		LOC14 = nsuIndent(LOC13, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC11 = rawNewString(LOC14->Sup.len + 1);
appendString(LOC11, ((NimStringDesc*) &TMP659));
appendString(LOC11, LOC14);
		msg = resizeString(msg, LOC11->Sup.len + 0);
appendString(msg, LOC11);
		nimln(201, "asyncdispatch.nim");
		e_200203 = 0;
		nimln(2507, "system.nim");
		e_200203 = (Futureerror190008*) newObj((&NTI190604), sizeof(Futureerror190008));
		(*e_200203).Sup.Sup.m_type = (&NTI190008);
		nimln(2508, "system.nim");
		LOC15 = 0;
		LOC15 = (*e_200203).Sup.message; (*e_200203).Sup.message = copyStringRC1(msg);
		if (LOC15) nimGCunrefNoCycle(LOC15);
		err = e_200203;
		nimln(202, "asyncdispatch.nim");
		asgnRef((void**) (&(*err).cause), &future->Sup);
		nimln(203, "asyncdispatch.nim");
		raiseException((Exception*)err, "FutureError");
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_199815)(FutureHEX3Aobjecttype199569* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	checkfinished_199824(future);
	nimln(237, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(238, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(239, "asyncdispatch.nim");
	nimln(240, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_19003(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19001());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19003(error));
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA9;
		nimln(242, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP724)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, complete_200228)(FutureHEX3Aobjecttype199569* future, TY199562 val) {
	NimStringDesc* LOC5;
	nimfr("complete", "asyncdispatch.nim")
	nimln(208, "asyncdispatch.nim");
	checkfinished_199824(future);
	nimln(209, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_89116(((NimStringDesc*) &TMP670));
	}
	LA3: ;
	nimln(210, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future).value.Field0; (*future).value.Field0 = copyStringRC1(val.Field0);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	(*future).value.Field1 = val.Field1;
	nimln(211, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(212, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA8;
		nimln(213, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP725)((*future).Sup.cb.ClPrc))();
	}
	LA8: ;
	popFrame();
}
N_NIMCALL(void, TMP729)(void* p, NI op) {
	PdispatcherHEX3Aobjecttype196218* a;
	NI LOC1;
	a = (PdispatcherHEX3Aobjecttype196218*)p;
	nimGCvisit((void*)(*a).Sup.timers, op);
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < 64; LOC1++) {
	}
	nimGCvisit((void*)(*a).selector.fds.data, op);
}

N_NIMCALL(PdispatcherHEX3Aobjecttype196218*, newdispatcher_196229)(void) {
	PdispatcherHEX3Aobjecttype196218* result;
	nimfr("newDispatcher", "asyncdispatch.nim")
	result = 0;
	nimln(957, "asyncdispatch.nim");
	result = (PdispatcherHEX3Aobjecttype196218*) newObj((&NTI196208), sizeof(PdispatcherHEX3Aobjecttype196218));
	(*result).Sup.Sup.m_type = (&NTI196218);
	nimln(958, "asyncdispatch.nim");
	newselector_194822((&(*result).selector));
	nimln(959, "asyncdispatch.nim");
	if ((*result).Sup.timers) nimGCunref((*result).Sup.timers);
	(*result).Sup.timers = (TY190989*) newSeqRC1((&NTI190989), 0);
	popFrame();
	return result;
}

N_NIMCALL(PdispatcherHEX3Aobjecttype196218*, getglobaldispatcher_196257)(void) {
	PdispatcherHEX3Aobjecttype196218* result;
	nimfr("getGlobalDispatcher", "asyncdispatch.nim")
	result = 0;
	nimln(963, "asyncdispatch.nim");
	{
		if (!gdisp_196256 == 0) goto LA3;
		asgnRef((void**) (&gdisp_196256), newdispatcher_196229());
	}
	LA3: ;
	nimln(964, "asyncdispatch.nim");
	result = gdisp_196256;
	popFrame();
	return result;
}

N_NIMCALL(void, update_196268)(int fd, NU8 events) {
	PdispatcherHEX3Aobjecttype196218* p;
	nimfr("update", "asyncdispatch.nim")
	nimln(967, "asyncdispatch.nim");
	p = getglobaldispatcher_196257();
	nimln(968, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = contains_195211((&(*p).selector), fd);
		if (!!(LOC3)) goto LA4;
		failedassertimpl_89116(((NimStringDesc*) &TMP730));
	}
	LA4: ;
	nimln(969, "asyncdispatch.nim");
	update_193738((&(*p).selector), fd, events);
	popFrame();
}
N_NIMCALL(void, TMP733)(void* p, NI op) {
	TY196213* a;
	NI LOC1;
	a = (TY196213*)p;
	LOC1 = 0;
	for (LOC1 = 0; LOC1 < a->Sup.len; LOC1++) {
	nimGCvisit((void*)a->data[LOC1].ClEnv, op);
	}
}
N_NIMCALL(void, TMP734)(void* p, NI op) {
	PdataHEX3Aobjecttype196211* a;
	a = (PdataHEX3Aobjecttype196211*)p;
	nimGCvisit((void*)(*a).readcbs, op);
	nimGCvisit((void*)(*a).writecbs, op);
}

N_NIMCALL(void, register_196404)(int fd) {
	PdispatcherHEX3Aobjecttype196218* p;
	PdataHEX3Aobjecttype196211* data;
	PdataHEX3Aobjecttype196211* LOC1;
	TNimObject* LOC2;
	nimfr("register", "asyncdispatch.nim")
	nimln(972, "asyncdispatch.nim");
	p = getglobaldispatcher_196257();
	nimln(973, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (PdataHEX3Aobjecttype196211*) newObj((&NTI196206), sizeof(PdataHEX3Aobjecttype196211));
	(*LOC1).Sup.m_type = (&NTI196211);
	(*LOC1).fd = fd;
	if ((*LOC1).readcbs) nimGCunref((*LOC1).readcbs);
	(*LOC1).readcbs = (TY196213*) newSeqRC1((&NTI196213), 0);
	if ((*LOC1).writecbs) nimGCunref((*LOC1).writecbs);
	(*LOC1).writecbs = (TY196213*) newSeqRC1((&NTI196213), 0);
	data = LOC1;
	nimln(974, "asyncdispatch.nim");
	LOC2 = 0;
	LOC2 = &data->Sup;
	register_193515((&(*p).selector), fd, 0, LOC2);
	popFrame();
}

N_NIMCALL(int, newasyncnativesocket_196446)(int domain, int socktype, int protocol) {
	int result;
	nimfr("newAsyncNativeSocket", "asyncdispatch.nim")
	result = 0;
	nimln(978, "asyncdispatch.nim");
	result = newnativesocket_177007(domain, socktype, protocol);
	nimln(979, "asyncdispatch.nim");
	setblocking_180637(result, NIM_FALSE);
	nimln(982, "asyncdispatch.nim");
	register_196404(result);
	popFrame();
	return result;
}

N_NIMCALL(int, newasyncnativesocket_196603)(NU8 domain, NU8 socktype, NU8 protocol) {
	int result;
	nimfr("newAsyncNativeSocket", "asyncdispatch.nim")
	result = 0;
	nimln(987, "asyncdispatch.nim");
	result = newnativesocket_177001(domain, socktype, protocol);
	nimln(988, "asyncdispatch.nim");
	setblocking_180637(result, NIM_FALSE);
	nimln(991, "asyncdispatch.nim");
	register_196404(result);
	popFrame();
	return result;
}

N_NIMCALL(void, closesocket_196803)(int sock) {
	PdispatcherHEX3Aobjecttype196218* disp;
	nimfr("closeSocket", "asyncdispatch.nim")
	nimln(994, "asyncdispatch.nim");
	disp = getglobaldispatcher_196257();
	nimln(995, "asyncdispatch.nim");
	unregister_194087((&(*disp).selector), sock);
	nimln(996, "asyncdispatch.nim");
	close_177013(sock);
	popFrame();
}

N_NIMCALL(void, unregister_196810)(int fd) {
	PdispatcherHEX3Aobjecttype196218* LOC1;
	nimfr("unregister", "asyncdispatch.nim")
	nimln(999, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = getglobaldispatcher_196257();
	unregister_194087((&(*LOC1).selector), fd);
	popFrame();
}

N_NIMCALL(void, addread_196815)(int fd, Callback196204 cb) {
	PdispatcherHEX3Aobjecttype196218* p;
	Selectorkey193427 LOC7;
	Selectorkey193427 LOC8;
	nimfr("addRead", "asyncdispatch.nim")
	nimln(1002, "asyncdispatch.nim");
	p = getglobaldispatcher_196257();
	nimln(1003, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		Valueerror3646* e_196823;
		NimStringDesc* LOC6;
		nimln(1104, "system.nim");
		LOC3 = 0;
		LOC3 = contains_195211((&(*p).selector), fd);
		if (!!(LOC3)) goto LA4;
		e_196823 = 0;
		nimln(2507, "system.nim");
		e_196823 = (Valueerror3646*) newObj((&NTI24025), sizeof(Valueerror3646));
		(*e_196823).Sup.Sup.m_type = (&NTI3646);
		nimln(2508, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_196823).Sup.message; (*e_196823).Sup.message = copyStringRC1(((NimStringDesc*) &TMP735));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(1004, "asyncdispatch.nim");
		raiseException((Exception*)e_196823, "ValueError");
	}
	LA4: ;
	nimln(1005, "asyncdispatch.nim");
	memset((void*)(&LOC7), 0, sizeof(LOC7));
	HEX5BHEX5D_195267((&(*p).selector), fd, (&LOC7));
	if (LOC7.data) chckObj((*LOC7.data).m_type, (&NTI196211));
	(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).readcbs = (TY196213*) incrSeqV2(&((*((PdataHEX3Aobjecttype196211*) (LOC7.data))).readcbs)->Sup, sizeof(Callback196204));
	asgnRef((void**) (&(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).readcbs->data[(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).readcbs->Sup.len].ClEnv), cb.ClEnv);
	(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).readcbs->data[(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).readcbs->Sup.len].ClPrc = cb.ClPrc;
	++(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).readcbs->Sup.len;
	nimln(1006, "asyncdispatch.nim");
	memset((void*)(&LOC8), 0, sizeof(LOC8));
	HEX5BHEX5D_195267((&(*p).selector), fd, (&LOC8));
	update_196268(fd, (LOC8.events | 1));
	popFrame();
}

N_NIMCALL(void, addwrite_196860)(int fd, Callback196204 cb) {
	PdispatcherHEX3Aobjecttype196218* p;
	Selectorkey193427 LOC7;
	Selectorkey193427 LOC8;
	nimfr("addWrite", "asyncdispatch.nim")
	nimln(1009, "asyncdispatch.nim");
	p = getglobaldispatcher_196257();
	nimln(1010, "asyncdispatch.nim");
	{
		NIM_BOOL LOC3;
		Valueerror3646* e_196868;
		NimStringDesc* LOC6;
		nimln(1104, "system.nim");
		LOC3 = 0;
		LOC3 = contains_195211((&(*p).selector), fd);
		if (!!(LOC3)) goto LA4;
		e_196868 = 0;
		nimln(2507, "system.nim");
		e_196868 = (Valueerror3646*) newObj((&NTI24025), sizeof(Valueerror3646));
		(*e_196868).Sup.Sup.m_type = (&NTI3646);
		nimln(2508, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_196868).Sup.message; (*e_196868).Sup.message = copyStringRC1(((NimStringDesc*) &TMP735));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(1011, "asyncdispatch.nim");
		raiseException((Exception*)e_196868, "ValueError");
	}
	LA4: ;
	nimln(1012, "asyncdispatch.nim");
	memset((void*)(&LOC7), 0, sizeof(LOC7));
	HEX5BHEX5D_195267((&(*p).selector), fd, (&LOC7));
	if (LOC7.data) chckObj((*LOC7.data).m_type, (&NTI196211));
	(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).writecbs = (TY196213*) incrSeqV2(&((*((PdataHEX3Aobjecttype196211*) (LOC7.data))).writecbs)->Sup, sizeof(Callback196204));
	asgnRef((void**) (&(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).writecbs->data[(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).writecbs->Sup.len].ClEnv), cb.ClEnv);
	(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).writecbs->data[(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).writecbs->Sup.len].ClPrc = cb.ClPrc;
	++(*((PdataHEX3Aobjecttype196211*) (LOC7.data))).writecbs->Sup.len;
	nimln(1013, "asyncdispatch.nim");
	memset((void*)(&LOC8), 0, sizeof(LOC8));
	HEX5BHEX5D_195267((&(*p).selector), fd, (&LOC8));
	update_196268(fd, (LOC8.events | 2));
	popFrame();
}

N_NIMCALL(void, poll_196905)(NI timeout) {
	PdispatcherHEX3Aobjecttype196218* p;
	PdispatcherbaseHEX3Aobjecttype190988* LOC62;
	nimfr("poll", "asyncdispatch.nim")
	nimln(1016, "asyncdispatch.nim");
	p = getglobaldispatcher_196257();
	{
		Readyinfo193429 info_197002;
		TY194449* HEX3Atmp_197517;
		NI i_197520;
		NI L_197522;
		memset((void*)(&info_197002), 0, sizeof(info_197002));
		HEX3Atmp_197517 = 0;
		nimln(1017, "asyncdispatch.nim");
		HEX3Atmp_197517 = select_194444((&(*p).selector), timeout);
		nimln(3361, "system.nim");
		i_197520 = ((NI) 0);
		nimln(3362, "system.nim");
		L_197522 = (HEX3Atmp_197517 ? HEX3Atmp_197517->Sup.len : 0);
		{
			nimln(3363, "system.nim");
			while (1) {
				PdataHEX3Aobjecttype196211* data;
				NI TMP741;
				if (!(i_197520 < L_197522)) goto LA3;
				nimln(3364, "system.nim");
				if ((NU)(i_197520) >= (NU)(HEX3Atmp_197517->Sup.len)) raiseIndexError();
				info_197002.Field0.fd = HEX3Atmp_197517->data[i_197520].Field0.fd;
				info_197002.Field0.events = HEX3Atmp_197517->data[i_197520].Field0.events;
				info_197002.Field0.data = HEX3Atmp_197517->data[i_197520].Field0.data;
				info_197002.Field1 = HEX3Atmp_197517->data[i_197520].Field1;
				nimln(1018, "asyncdispatch.nim");
				if (info_197002.Field0.data) chckObj((*info_197002.Field0.data).m_type, (&NTI196211));
				data = ((PdataHEX3Aobjecttype196211*) (info_197002.Field0.data));
				nimln(1019, "asyncdispatch.nim");
				{
					if (!!(((*data).fd == info_197002.Field0.fd))) goto LA6;
					failedassertimpl_89116(((NimStringDesc*) &TMP736));
				}
				LA6: ;
				nimln(1025, "asyncdispatch.nim");
				{
					TY196213* currentcbs;
					nimln(1098, "system.nim");
					if (!((info_197002.Field1 &(1U<<((NU)(((NU8) 0))&7U)))!=0)) goto LA10;
					nimln(1029, "asyncdispatch.nim");
					currentcbs = (*data).readcbs;
					nimln(1030, "asyncdispatch.nim");
					if ((*data).readcbs) nimGCunref((*data).readcbs);
					(*data).readcbs = (TY196213*) newSeqRC1((&NTI196213), 0);
					{
						Callback196204 cb_197402;
						NI i_197507;
						NI L_197509;
						memset((void*)(&cb_197402), 0, sizeof(cb_197402));
						nimln(3361, "system.nim");
						i_197507 = ((NI) 0);
						nimln(3362, "system.nim");
						L_197509 = (currentcbs ? currentcbs->Sup.len : 0);
						{
							nimln(3363, "system.nim");
							while (1) {
								NI TMP738;
								if (!(i_197507 < L_197509)) goto LA14;
								nimln(3364, "system.nim");
								if ((NU)(i_197507) >= (NU)(currentcbs->Sup.len)) raiseIndexError();
								cb_197402.ClEnv = currentcbs->data[i_197507].ClEnv;
								cb_197402.ClPrc = currentcbs->data[i_197507].ClPrc;
								nimln(1032, "asyncdispatch.nim");
								{
									NIM_BOOL LOC17;
									LOC17 = 0;
									LOC17 = cb_197402.ClEnv? cb_197402.ClPrc((*data).fd, cb_197402.ClEnv):((TMP737)(cb_197402.ClPrc))((*data).fd);
									if (!!(LOC17)) goto LA18;
									nimln(1034, "asyncdispatch.nim");
									(*data).readcbs = (TY196213*) incrSeqV2(&((*data).readcbs)->Sup, sizeof(Callback196204));
									asgnRef((void**) (&(*data).readcbs->data[(*data).readcbs->Sup.len].ClEnv), cb_197402.ClEnv);
									(*data).readcbs->data[(*data).readcbs->Sup.len].ClPrc = cb_197402.ClPrc;
									++(*data).readcbs->Sup.len;
								}
								LA18: ;
								nimln(3365, "system.nim");
								TMP738 = addInt(i_197507, ((NI) 1));
								i_197507 = (NI)(TMP738);
								nimln(3366, "system.nim");
								{
									if (!!(((currentcbs ? currentcbs->Sup.len : 0) == L_197509))) goto LA22;
									failedassertimpl_89116(((NimStringDesc*) &TMP678));
								}
								LA22: ;
							} LA14: ;
						}
					}
				}
				LA10: ;
				nimln(1036, "asyncdispatch.nim");
				{
					TY196213* currentcbs;
					nimln(1098, "system.nim");
					if (!((info_197002.Field1 &(1U<<((NU)(((NU8) 1))&7U)))!=0)) goto LA26;
					nimln(1037, "asyncdispatch.nim");
					currentcbs = (*data).writecbs;
					nimln(1038, "asyncdispatch.nim");
					if ((*data).writecbs) nimGCunref((*data).writecbs);
					(*data).writecbs = (TY196213*) newSeqRC1((&NTI196213), 0);
					{
						Callback196204 cb_197448;
						NI i_197513;
						NI L_197515;
						memset((void*)(&cb_197448), 0, sizeof(cb_197448));
						nimln(3361, "system.nim");
						i_197513 = ((NI) 0);
						nimln(3362, "system.nim");
						L_197515 = (currentcbs ? currentcbs->Sup.len : 0);
						{
							nimln(3363, "system.nim");
							while (1) {
								NI TMP740;
								if (!(i_197513 < L_197515)) goto LA30;
								nimln(3364, "system.nim");
								if ((NU)(i_197513) >= (NU)(currentcbs->Sup.len)) raiseIndexError();
								cb_197448.ClEnv = currentcbs->data[i_197513].ClEnv;
								cb_197448.ClPrc = currentcbs->data[i_197513].ClPrc;
								nimln(1040, "asyncdispatch.nim");
								{
									NIM_BOOL LOC33;
									LOC33 = 0;
									LOC33 = cb_197448.ClEnv? cb_197448.ClPrc((*data).fd, cb_197448.ClEnv):((TMP739)(cb_197448.ClPrc))((*data).fd);
									if (!!(LOC33)) goto LA34;
									nimln(1042, "asyncdispatch.nim");
									(*data).writecbs = (TY196213*) incrSeqV2(&((*data).writecbs)->Sup, sizeof(Callback196204));
									asgnRef((void**) (&(*data).writecbs->data[(*data).writecbs->Sup.len].ClEnv), cb_197448.ClEnv);
									(*data).writecbs->data[(*data).writecbs->Sup.len].ClPrc = cb_197448.ClPrc;
									++(*data).writecbs->Sup.len;
								}
								LA34: ;
								nimln(3365, "system.nim");
								TMP740 = addInt(i_197513, ((NI) 1));
								i_197513 = (NI)(TMP740);
								nimln(3366, "system.nim");
								{
									if (!!(((currentcbs ? currentcbs->Sup.len : 0) == L_197515))) goto LA38;
									failedassertimpl_89116(((NimStringDesc*) &TMP678));
								}
								LA38: ;
							} LA30: ;
						}
					}
				}
				LA26: ;
				nimln(1044, "asyncdispatch.nim");
				{
					NIM_BOOL LOC42;
					NU8 newevents;
					nimln(1098, "system.nim");
					LOC42 = 0;
					LOC42 = contains_195401((&(*p).selector), info_197002.Field0);
					if (!LOC42) goto LA43;
					memset((void*)(&newevents), 0, sizeof(newevents));
					nimln(1046, "asyncdispatch.nim");
					{
						nimln(349, "system.nim");
						nimln(1046, "asyncdispatch.nim");
						if (!!((((*data).readcbs ? (*data).readcbs->Sup.len : 0) == ((NI) 0)))) goto LA47;
						newevents = 1;
					}
					LA47: ;
					nimln(1047, "asyncdispatch.nim");
					{
						nimln(349, "system.nim");
						nimln(1047, "asyncdispatch.nim");
						if (!!((((*data).writecbs ? (*data).writecbs->Sup.len : 0) == ((NI) 0)))) goto LA51;
						newevents = (newevents | 2);
					}
					LA51: ;
					nimln(1048, "asyncdispatch.nim");
					{
						nimln(349, "system.nim");
						if (!!((newevents == info_197002.Field0.events))) goto LA55;
						nimln(1049, "asyncdispatch.nim");
						update_196268((*data).fd, newevents);
					}
					LA55: ;
				}
				goto LA40;
				LA43: ;
				{
				}
				LA40: ;
				nimln(3365, "system.nim");
				TMP741 = addInt(i_197520, ((NI) 1));
				i_197520 = (NI)(TMP741);
				nimln(3366, "system.nim");
				{
					if (!!(((HEX3Atmp_197517 ? HEX3Atmp_197517->Sup.len : 0) == L_197522))) goto LA60;
					failedassertimpl_89116(((NimStringDesc*) &TMP678));
				}
				LA60: ;
			} LA3: ;
		}
	}
	nimln(1055, "asyncdispatch.nim");
	LOC62 = 0;
	LOC62 = &p->Sup;
	processtimers_190997(LOC62);
	popFrame();
}
N_NIMCALL(void, TMP743)(void* p, NI op) {
	TY197841* a;
	a = (TY197841*)p;
	nimGCvisit((void*)(*a).retfuture197610, op);
}

static N_INLINE(NI, chckRange)(NI i, NI a, NI b) {
	NI result;
{	result = 0;
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (a <= i);
		if (!(LOC3)) goto LA4;
		LOC3 = (i <= b);
		LA4: ;
		if (!LOC3) goto LA5;
		result = i;
		goto BeforeRet;
	}
	goto LA1;
	LA5: ;
	{
		raiseRangeError(((NI64) (i)));
	}
	LA1: ;
	}BeforeRet: ;
	return result;
}

N_CLOSURE(NIM_BOOL, cb_197611)(int fd, void* ClEnv) {
	NIM_BOOL result;
	TY197841* HEX3Aenvp_197844;
	NI ret;
	nimfr("cb", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenvp_197844 = (TY197841*) ClEnv;
	nimln(1062, "asyncdispatch.nim");
	ret = getsockoptint_180617(fd, ((NI) (SOL_SOCKET)), ((NI) (SO_ERROR)));
	nimln(1063, "asyncdispatch.nim");
	{
		if (!(ret == ((NI) 0))) goto LA3;
		nimln(1065, "asyncdispatch.nim");
		complete_190277((*HEX3Aenvp_197844).retfuture197610);
		nimln(1066, "asyncdispatch.nim");
		result = NIM_TRUE;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		nimln(1067, "asyncdispatch.nim");
		if (!(ret == ((NI) (EINTR)))) goto LA6;
		nimln(1069, "asyncdispatch.nim");
		result = NIM_FALSE;
		goto BeforeRet;
	}
	goto LA1;
	LA6: ;
	{
		Oserror3630* e_197619;
		Exception* LOC9;
		nimln(1071, "asyncdispatch.nim");
		e_197619 = 0;
		nimln(2507, "system.nim");
		e_197619 = (Oserror3630*) newObj((&NTI141807), sizeof(Oserror3630));
		(*e_197619).Sup.Sup.Sup.m_type = (&NTI3630);
		nimln(2508, "system.nim");
		asgnRefNoCycle((void**) (&(*e_197619).Sup.Sup.message), oserrormsg_141611(((NI32)chckRange(ret, ((NI32) (-2147483647 -1)), ((NI32) 2147483647)))));
		LOC9 = 0;
		LOC9 = &e_197619->Sup.Sup;
		fail_197630((*HEX3Aenvp_197844).retfuture197610, LOC9);
		nimln(1072, "asyncdispatch.nim");
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(FutureHEX3Aobjecttype190284*, connect_197523)(int socket, NimStringDesc* address, NU16 port, NU8 domain) {
	FutureHEX3Aobjecttype190284* result;
	TY197841* HEX3Aenv_197846;
	struct addrinfo* ailist;
	NIM_BOOL success;
	NI32 lasterror;
	struct addrinfo* it;
	nimfr("connect", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_197846 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_197846 = (TY197841*) newObj((&NTI197840), sizeof(TY197841));
	nimln(1059, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_197846).retfuture197610), newfuture_197533(((NimStringDesc*) &TMP744)));
	nimln(1074, "asyncdispatch.nim");
	{
		NU8 LOC3;
		LOC3 = 0;
		LOC3 = getsockdomain_179402(socket);
		if (!!((LOC3 == domain))) goto LA4;
		failedassertimpl_89116(((NimStringDesc*) &TMP745));
	}
	LA4: ;
	nimln(1075, "asyncdispatch.nim");
	ailist = getaddrinfo_177402(address, port, domain, ((NU8) 1), ((NU8) 6));
	nimln(1076, "asyncdispatch.nim");
	success = NIM_FALSE;
	lasterror = 0;
	nimln(1078, "asyncdispatch.nim");
	it = ailist;
	{
		nimln(1079, "asyncdispatch.nim");
		while (1) {
			int ret;
			nimln(349, "system.nim");
			if (!!((it == NIM_NIL))) goto LA7;
			nimln(1080, "asyncdispatch.nim");
			ret = connect(socket, (*it).ai_addr, (*it).ai_addrlen);
			nimln(1081, "asyncdispatch.nim");
			{
				if (!(ret == ((NI32) 0))) goto LA10;
				nimln(1083, "asyncdispatch.nim");
				success = NIM_TRUE;
				nimln(1084, "asyncdispatch.nim");
				complete_190277((*HEX3Aenv_197846).retfuture197610);
				nimln(1085, "asyncdispatch.nim");
				goto LA6;
			}
			goto LA8;
			LA10: ;
			{
				nimln(1087, "asyncdispatch.nim");
				lasterror = oslasterror_141819();
				nimln(1088, "asyncdispatch.nim");
				{
					NIM_BOOL LOC15;
					Callback196204 LOC19;
					LOC15 = 0;
					LOC15 = (lasterror == EINTR);
					if (LOC15) goto LA16;
					LOC15 = (lasterror == EINPROGRESS);
					LA16: ;
					if (!LOC15) goto LA17;
					nimln(1089, "asyncdispatch.nim");
					success = NIM_TRUE;
					nimln(1090, "asyncdispatch.nim");
					memset((void*)(&LOC19), 0, sizeof(LOC19));
					LOC19.ClPrc = cb_197611; LOC19.ClEnv = HEX3Aenv_197846;
					addwrite_196860(socket, LOC19);
					nimln(1091, "asyncdispatch.nim");
					goto LA6;
				}
				goto LA13;
				LA17: ;
				{
					nimln(1093, "asyncdispatch.nim");
					success = NIM_FALSE;
				}
				LA13: ;
			}
			LA8: ;
			nimln(1094, "asyncdispatch.nim");
			it = (*it).ai_next;
		} LA7: ;
	} LA6: ;
	nimln(1096, "asyncdispatch.nim");
	dealloc_177802(ailist);
	nimln(1097, "asyncdispatch.nim");
	{
		Oserror3630* e_197821;
		Exception* LOC25;
		if (!!(success)) goto LA23;
		nimln(1098, "asyncdispatch.nim");
		e_197821 = 0;
		nimln(2507, "system.nim");
		e_197821 = (Oserror3630*) newObj((&NTI141807), sizeof(Oserror3630));
		(*e_197821).Sup.Sup.Sup.m_type = (&NTI3630);
		nimln(2508, "system.nim");
		asgnRefNoCycle((void**) (&(*e_197821).Sup.Sup.message), oserrormsg_141611(lasterror));
		LOC25 = 0;
		LOC25 = &e_197821->Sup.Sup;
		fail_197630((*HEX3Aenv_197846).retfuture197610, LOC25);
	}
	LA23: ;
	nimln(1099, "asyncdispatch.nim");
	result = (*HEX3Aenv_197846).retfuture197610;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP750)(void* p, NI op) {
	TY198670* a;
	a = (TY198670*)p;
	nimGCvisit((void*)(*a).readbuffer198011, op);
	nimGCvisit((void*)(*a).retfuture198010, op);
}

N_CLOSURE(NIM_BOOL, cb_198012)(int sock, void* ClEnv) {
	NIM_BOOL result;
	TY198670* HEX3Aenvp_198673;
	NI res;
	int LOC1;
	nimfr("cb", "asyncdispatch.nim")
	result = 0;
	HEX3Aenvp_198673 = (TY198670*) ClEnv;
	nimln(1108, "asyncdispatch.nim");
	result = NIM_TRUE;
	nimln(1109, "asyncdispatch.nim");
	if ((NU)(((NI) 0)) > (NU)((*HEX3Aenvp_198673).readbuffer198011->Sup.len)) raiseIndexError();
	nimln(1110, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = toosflags_182625((*HEX3Aenvp_198673).flags197861);
	res = recv(sock, ((void*) ((&(*HEX3Aenvp_198673).readbuffer198011->data[((NI) 0)]))), ((NI) (((int)chckRange((*HEX3Aenvp_198673).size197858, ((int) (-2147483647 -1)), ((int) 2147483647))))), LOC1);
	nimln(1111, "asyncdispatch.nim");
	{
		NI32 lasterror;
		if (!(res < ((NI) 0))) goto LA4;
		nimln(1112, "asyncdispatch.nim");
		lasterror = oslasterror_141819();
		nimln(1113, "asyncdispatch.nim");
		{
			nimln(1104, "system.nim");
			if (!!((lasterror == ((NI)chckRange(EINTR, ((NI) 0), ((NI) 65535))) || lasterror == ((NI)chckRange(EWOULDBLOCK, ((NI) 0), ((NI) 65535))) || lasterror == ((NI)chckRange(EAGAIN, ((NI) 0), ((NI) 65535)))))) goto LA8;
			nimln(1114, "asyncdispatch.nim");
			{
				NIM_BOOL LOC12;
				LOC12 = 0;
				LOC12 = isdisconnectionerror_182473((*HEX3Aenvp_198673).flags197861, lasterror);
				if (!LOC12) goto LA13;
				nimln(1115, "asyncdispatch.nim");
				complete_198032((*HEX3Aenvp_198673).retfuture198010, ((NimStringDesc*) &TMP653));
			}
			goto LA10;
			LA13: ;
			{
				Oserror3630* e_198613;
				Exception* LOC16;
				nimln(1117, "asyncdispatch.nim");
				e_198613 = 0;
				nimln(2507, "system.nim");
				e_198613 = (Oserror3630*) newObj((&NTI141807), sizeof(Oserror3630));
				(*e_198613).Sup.Sup.Sup.m_type = (&NTI3630);
				nimln(2508, "system.nim");
				asgnRefNoCycle((void**) (&(*e_198613).Sup.Sup.message), oserrormsg_141611(lasterror));
				LOC16 = 0;
				LOC16 = &e_198613->Sup.Sup;
				fail_198624((*HEX3Aenvp_198673).retfuture198010, LOC16);
			}
			LA10: ;
		}
		goto LA6;
		LA8: ;
		{
			nimln(1119, "asyncdispatch.nim");
			result = NIM_FALSE;
		}
		LA6: ;
	}
	goto LA2;
	LA4: ;
	{
		nimln(1120, "asyncdispatch.nim");
		if (!(res == ((NI) 0))) goto LA19;
		nimln(1122, "asyncdispatch.nim");
		complete_198032((*HEX3Aenvp_198673).retfuture198010, ((NimStringDesc*) &TMP653));
	}
	goto LA2;
	LA19: ;
	{
		nimln(1124, "asyncdispatch.nim");
		(*HEX3Aenvp_198673).readbuffer198011 = setLengthStr((*HEX3Aenvp_198673).readbuffer198011, ((NI)chckRange(res, ((NI) 0), ((NI) IL64(9223372036854775807)))));
		nimln(1125, "asyncdispatch.nim");
		complete_198032((*HEX3Aenvp_198673).retfuture198010, (*HEX3Aenvp_198673).readbuffer198011);
	}
	LA2: ;
	popFrame();
	return result;
}

N_NIMCALL(FutureHEX3Aobjecttype197867*, recv_197855)(int socket, NI size, NU8 flags) {
	FutureHEX3Aobjecttype197867* result;
	TY198670* HEX3Aenv_198678;
	Callback196204 LOC1;
	nimfr("recv", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_198678 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_198678 = (TY198670*) newObj((&NTI198669), sizeof(TY198670));
	nimln(1101, "asyncdispatch.nim");
	(*HEX3Aenv_198678).size197858 = size;
	(*HEX3Aenv_198678).flags197861 = flags;
	nimln(1103, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_198678).retfuture198010), newfuture_197872(((NimStringDesc*) &TMP751)));
	nimln(1105, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*HEX3Aenv_198678).readbuffer198011), mnewString(((NI)chckRange((*HEX3Aenv_198678).size197858, ((NI) 0), ((NI) IL64(9223372036854775807))))));
	nimln(1128, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = cb_198012; LOC1.ClEnv = HEX3Aenv_198678;
	addread_196815(socket, LOC1);
	nimln(1129, "asyncdispatch.nim");
	result = (*HEX3Aenv_198678).retfuture198010;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP754)(void* p, NI op) {
	TY199461* a;
	a = (TY199461*)p;
	nimGCvisit((void*)(*a).retfuture198810, op);
}

N_CLOSURE(NIM_BOOL, cb_198811)(int sock, void* ClEnv) {
	NIM_BOOL result;
	TY199461* HEX3Aenvp_199464;
	NI res;
	int LOC1;
	nimfr("cb", "asyncdispatch.nim")
	result = 0;
	HEX3Aenvp_199464 = (TY199461*) ClEnv;
	nimln(1136, "asyncdispatch.nim");
	result = NIM_TRUE;
	nimln(1137, "asyncdispatch.nim");
	nimln(1138, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = toosflags_182625((*HEX3Aenvp_199464).flags198686);
	res = recv(sock, ((void*) ((*HEX3Aenvp_199464).buf198682)), ((NI) (((int)chckRange((*HEX3Aenvp_199464).size198683, ((int) (-2147483647 -1)), ((int) 2147483647))))), LOC1);
	nimln(1139, "asyncdispatch.nim");
	{
		NI32 lasterror;
		if (!(res < ((NI) 0))) goto LA4;
		nimln(1140, "asyncdispatch.nim");
		lasterror = oslasterror_141819();
		nimln(1141, "asyncdispatch.nim");
		{
			nimln(1104, "system.nim");
			if (!!((lasterror == ((NI)chckRange(EINTR, ((NI) 0), ((NI) 65535))) || lasterror == ((NI)chckRange(EWOULDBLOCK, ((NI) 0), ((NI) 65535))) || lasterror == ((NI)chckRange(EAGAIN, ((NI) 0), ((NI) 65535)))))) goto LA8;
			nimln(1142, "asyncdispatch.nim");
			{
				NIM_BOOL LOC12;
				LOC12 = 0;
				LOC12 = isdisconnectionerror_182473((*HEX3Aenvp_199464).flags198686, lasterror);
				if (!LOC12) goto LA13;
				nimln(1143, "asyncdispatch.nim");
				complete_198830((*HEX3Aenvp_199464).retfuture198810, ((NI) 0));
			}
			goto LA10;
			LA13: ;
			{
				Oserror3630* e_199413;
				Exception* LOC16;
				nimln(1145, "asyncdispatch.nim");
				e_199413 = 0;
				nimln(2507, "system.nim");
				e_199413 = (Oserror3630*) newObj((&NTI141807), sizeof(Oserror3630));
				(*e_199413).Sup.Sup.Sup.m_type = (&NTI3630);
				nimln(2508, "system.nim");
				asgnRefNoCycle((void**) (&(*e_199413).Sup.Sup.message), oserrormsg_141611(lasterror));
				LOC16 = 0;
				LOC16 = &e_199413->Sup.Sup;
				fail_199424((*HEX3Aenvp_199464).retfuture198810, LOC16);
			}
			LA10: ;
		}
		goto LA6;
		LA8: ;
		{
			nimln(1147, "asyncdispatch.nim");
			result = NIM_FALSE;
		}
		LA6: ;
	}
	goto LA2;
	LA4: ;
	{
		nimln(1149, "asyncdispatch.nim");
		complete_198830((*HEX3Aenvp_199464).retfuture198810, res);
	}
	LA2: ;
	popFrame();
	return result;
}

N_NIMCALL(FutureHEX3Aobjecttype198692*, recvinto_198679)(int socket, NCSTRING buf, NI size, NU8 flags) {
	FutureHEX3Aobjecttype198692* result;
	TY199461* HEX3Aenv_199469;
	Callback196204 LOC1;
	nimfr("recvInto", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_199469 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_199469 = (TY199461*) newObj((&NTI199460), sizeof(TY199461));
	nimln(1131, "asyncdispatch.nim");
	(*HEX3Aenv_199469).buf198682 = buf;
	(*HEX3Aenv_199469).size198683 = size;
	(*HEX3Aenv_199469).flags198686 = flags;
	nimln(1133, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_199469).retfuture198810), newfuture_198697(((NimStringDesc*) &TMP755)));
	nimln(1152, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = cb_198811; LOC1.ClEnv = HEX3Aenv_199469;
	addread_196815(socket, LOC1);
	nimln(1153, "asyncdispatch.nim");
	result = (*HEX3Aenv_199469).retfuture198810;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP757)(void* p, NI op) {
	TY199546* a;
	a = (TY199546*)p;
	nimGCvisit((void*)(*a).data199473, op);
	nimGCvisit((void*)(*a).retfuture199488, op);
}

static N_INLINE(NI, subInt)(NI a, NI b) {
	NI result;
{	result = 0;
	result = (NI)((NU64)(a) - (NU64)(b));
	{
		NIM_BOOL LOC3;
		LOC3 = 0;
		LOC3 = (((NI) 0) <= (NI)(result ^ a));
		if (LOC3) goto LA4;
		LOC3 = (((NI) 0) <= (NI)(result ^ (NI)((NU64) ~(b))));
		LA4: ;
		if (!LOC3) goto LA5;
		goto BeforeRet;
	}
	LA5: ;
	raiseOverflow();
	}BeforeRet: ;
	return result;
}

N_CLOSURE(NIM_BOOL, cb_199490)(int sock, void* ClEnv) {
	NIM_BOOL result;
	TY199546* HEX3Aenvp_199549;
	NI netsize;
	NI TMP759;
	NCSTRING d;
	NI res;
	nimfr("cb", "asyncdispatch.nim")
	result = 0;
	HEX3Aenvp_199549 = (TY199546*) ClEnv;
	nimln(1162, "asyncdispatch.nim");
	result = NIM_TRUE;
	nimln(1163, "asyncdispatch.nim");
	TMP759 = subInt(((*HEX3Aenvp_199549).data199473 ? (*HEX3Aenvp_199549).data199473->Sup.len : 0), (*HEX3Aenvp_199549).written199489);
	netsize = (NI)(TMP759);
	nimln(1164, "asyncdispatch.nim");
	d = (*HEX3Aenvp_199549).data199473->data;
	nimln(1165, "asyncdispatch.nim");
	res = send(sock, ((void*) ((&d[(*HEX3Aenvp_199549).written199489]))), ((NI) (((int)chckRange(netsize, ((int) (-2147483647 -1)), ((int) 2147483647))))), MSG_NOSIGNAL);
	nimln(1167, "asyncdispatch.nim");
	{
		NI32 lasterror;
		if (!(res < ((NI) 0))) goto LA3;
		nimln(1168, "asyncdispatch.nim");
		lasterror = oslasterror_141819();
		nimln(1169, "asyncdispatch.nim");
		{
			nimln(1104, "system.nim");
			if (!!((lasterror == ((NI)chckRange(EINTR, ((NI) 0), ((NI) 65535))) || lasterror == ((NI)chckRange(EWOULDBLOCK, ((NI) 0), ((NI) 65535))) || lasterror == ((NI)chckRange(EAGAIN, ((NI) 0), ((NI) 65535)))))) goto LA7;
			nimln(1170, "asyncdispatch.nim");
			{
				NIM_BOOL LOC11;
				LOC11 = 0;
				LOC11 = isdisconnectionerror_182473((*HEX3Aenvp_199549).flags199476, lasterror);
				if (!LOC11) goto LA12;
				nimln(1171, "asyncdispatch.nim");
				complete_190277((*HEX3Aenvp_199549).retfuture199488);
			}
			goto LA9;
			LA12: ;
			{
				Oserror3630* e_199514;
				Exception* LOC15;
				nimln(1173, "asyncdispatch.nim");
				e_199514 = 0;
				nimln(2507, "system.nim");
				e_199514 = (Oserror3630*) newObj((&NTI141807), sizeof(Oserror3630));
				(*e_199514).Sup.Sup.Sup.m_type = (&NTI3630);
				nimln(2508, "system.nim");
				asgnRefNoCycle((void**) (&(*e_199514).Sup.Sup.message), oserrormsg_141611(lasterror));
				LOC15 = 0;
				LOC15 = &e_199514->Sup.Sup;
				fail_197630((*HEX3Aenvp_199549).retfuture199488, LOC15);
			}
			LA9: ;
		}
		goto LA5;
		LA7: ;
		{
			nimln(1175, "asyncdispatch.nim");
			result = NIM_FALSE;
		}
		LA5: ;
	}
	goto LA1;
	LA3: ;
	{
		NI TMP760;
		nimln(1177, "asyncdispatch.nim");
		TMP760 = addInt((*HEX3Aenvp_199549).written199489, res);
		(*HEX3Aenvp_199549).written199489 = (NI)(TMP760);
		nimln(1178, "asyncdispatch.nim");
		{
			nimln(349, "system.nim");
			if (!!((res == netsize))) goto LA20;
			nimln(1179, "asyncdispatch.nim");
			result = NIM_FALSE;
		}
		goto LA18;
		LA20: ;
		{
			nimln(1181, "asyncdispatch.nim");
			complete_190277((*HEX3Aenvp_199549).retfuture199488);
		}
		LA18: ;
	}
	LA1: ;
	popFrame();
	return result;
}

N_NIMCALL(FutureHEX3Aobjecttype190284*, send_199470)(int socket, NimStringDesc* data, NU8 flags) {
	FutureHEX3Aobjecttype190284* result;
	TY199546* HEX3Aenv_199554;
	NimStringDesc* LOC1;
	Callback196204 LOC2;
	nimfr("send", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_199554 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_199554 = (TY199546*) newObj((&NTI199545), sizeof(TY199546));
	nimln(1155, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*HEX3Aenv_199554).data199473; (*HEX3Aenv_199554).data199473 = copyStringRC1(data);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	(*HEX3Aenv_199554).flags199476 = flags;
	nimln(1157, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_199554).retfuture199488), newfuture_197533(((NimStringDesc*) &TMP758)));
	nimln(1159, "asyncdispatch.nim");
	(*HEX3Aenv_199554).written199489 = ((NI) 0);
	nimln(1184, "asyncdispatch.nim");
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = cb_199490; LOC2.ClEnv = HEX3Aenv_199554;
	addwrite_196860(socket, LOC2);
	nimln(1185, "asyncdispatch.nim");
	result = (*HEX3Aenv_199554).retfuture199488;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP762)(void* p, NI op) {
	TY200420* a;
	a = (TY200420*)p;
	nimGCvisit((void*)(*a).retfuture199610, op);
}

N_CLOSURE(NIM_BOOL, cb_199611)(int sock, void* ClEnv) {
	NIM_BOOL result;
	TY200420* HEX3Aenvp_200423;
	struct sockaddr_storage sockaddress;
	socklen_t addrlen;
	int client;
	nimfr("cb", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenvp_200423 = (TY200420*) ClEnv;
	nimln(1192, "asyncdispatch.nim");
	result = NIM_TRUE;
	memset((void*)(&sockaddress), 0, sizeof(sockaddress));
	nimln(1194, "asyncdispatch.nim");
	addrlen = ((socklen_t) (((NI)sizeof(struct sockaddr_storage))));
	nimln(1195, "asyncdispatch.nim");
	client = accept(sock, ((struct sockaddr*) ((&sockaddress))), (&addrlen));
	nimln(1197, "asyncdispatch.nim");
	{
		NI32 lasterror;
		if (!(client == osinvalidsocket_176645)) goto LA3;
		nimln(1198, "asyncdispatch.nim");
		lasterror = oslasterror_141819();
		nimln(1199, "asyncdispatch.nim");
		{
			if (!!(!((lasterror == ((NI)chckRange(EWOULDBLOCK, ((NI) 0), ((NI) 65535))) || lasterror == ((NI)chckRange(EAGAIN, ((NI) 0), ((NI) 65535))))))) goto LA7;
			failedassertimpl_89116(((NimStringDesc*) &TMP764));
		}
		LA7: ;
		nimln(1200, "asyncdispatch.nim");
		{
			if (!(lasterror == EINTR)) goto LA11;
			nimln(1201, "asyncdispatch.nim");
			result = NIM_FALSE;
			goto BeforeRet;
		}
		goto LA9;
		LA11: ;
		{
			nimln(1203, "asyncdispatch.nim");
			{
				NIM_BOOL LOC16;
				LOC16 = 0;
				LOC16 = isdisconnectionerror_182473((*HEX3Aenvp_200423).flags199560, lasterror);
				if (!LOC16) goto LA17;
				nimln(1204, "asyncdispatch.nim");
				result = NIM_FALSE;
				goto BeforeRet;
			}
			goto LA14;
			LA17: ;
			{
				Oserror3630* e_199804;
				Exception* LOC20;
				nimln(1206, "asyncdispatch.nim");
				e_199804 = 0;
				nimln(2507, "system.nim");
				e_199804 = (Oserror3630*) newObj((&NTI141807), sizeof(Oserror3630));
				(*e_199804).Sup.Sup.Sup.m_type = (&NTI3630);
				nimln(2508, "system.nim");
				asgnRefNoCycle((void**) (&(*e_199804).Sup.Sup.message), oserrormsg_141611(lasterror));
				LOC20 = 0;
				LOC20 = &e_199804->Sup.Sup;
				fail_199815((*HEX3Aenvp_200423).retfuture199610, LOC20);
			}
			LA14: ;
		}
		LA9: ;
	}
	goto LA1;
	LA3: ;
	{
		TY199562 LOC22;
		nimln(1208, "asyncdispatch.nim");
		register_196404(client);
		nimln(1209, "asyncdispatch.nim");
		memset((void*)(&LOC22), 0, sizeof(LOC22));
		LOC22.Field0 = getaddrstring_179413(((struct sockaddr*) ((&sockaddress))));
		LOC22.Field1 = client;
		complete_200228((*HEX3Aenvp_200423).retfuture199610, LOC22);
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(FutureHEX3Aobjecttype199569*, acceptaddr_199555)(int socket, NU8 flags) {
	FutureHEX3Aobjecttype199569* result;
	TY200420* HEX3Aenv_200426;
	Callback196204 LOC1;
	nimfr("acceptAddr", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_200426 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_200426 = (TY200420*) newObj((&NTI200419), sizeof(TY200420));
	nimln(1187, "asyncdispatch.nim");
	(*HEX3Aenv_200426).flags199560 = flags;
	nimln(1189, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_200426).retfuture199610), newfuture_199577(((NimStringDesc*) &TMP763)));
	nimln(1210, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = cb_199611; LOC1.ClEnv = HEX3Aenv_200426;
	addread_196815(socket, LOC1);
	nimln(1211, "asyncdispatch.nim");
	result = (*HEX3Aenv_200426).retfuture199610;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(NF, HEX2F_88438)(NI x, NI y) {
	NF result;
	nimfr("/", "system.nim")
	result = 0;
	nimln(3120, "system.nim");
	result = ((NF)(((double) (x))) / (NF)(((double) (y))));
	popFrame();
	return result;
}

N_NIMCALL(FutureHEX3Aobjecttype190284*, sleepasync_200606)(NI ms) {
	FutureHEX3Aobjecttype190284* result;
	FutureHEX3Aobjecttype190284* retfuture;
	PdispatcherHEX3Aobjecttype196218* p;
	TY190990 LOC1;
	NF LOC2;
	NF LOC3;
	nimfr("sleepAsync", "asyncdispatch.nim")
{	result = 0;
	nimln(1216, "asyncdispatch.nim");
	retfuture = newfuture_197533(((NimStringDesc*) &TMP765));
	nimln(1217, "asyncdispatch.nim");
	p = getglobaldispatcher_196257();
	nimln(1218, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC2 = 0;
	LOC2 = ntepochTime();
	LOC3 = 0;
	LOC3 = HEX2F_88438(ms, ((NI) 1000));
	LOC1.Field0 = ((NF)(LOC2) + (NF)(LOC3));
	LOC1.Field1 = retfuture;
	(*p).Sup.timers = (TY190989*) incrSeqV2(&((*p).Sup.timers)->Sup, sizeof(TY190990));
	(*p).Sup.timers->data[(*p).Sup.timers->Sup.len].Field0 = LOC1.Field0;
	asgnRef((void**) (&(*p).Sup.timers->data[(*p).Sup.timers->Sup.len].Field1), LOC1.Field1);
	++(*p).Sup.timers->Sup.len;
	nimln(1219, "asyncdispatch.nim");
	result = retfuture;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP766)(void* p, NI op) {
	FutureHEX3Aobjecttype200645* a;
	a = (FutureHEX3Aobjecttype200645*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
}

N_NIMCALL(FutureHEX3Aobjecttype200645*, newfuture_200650)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype200645* result;
	NimStringDesc* LOC1;
	NI TMP767;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(163, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype200645*) newObj((&NTI200644), sizeof(FutureHEX3Aobjecttype200645));
	(*result).Sup.Sup.m_type = (&NTI200645);
	nimln(164, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(166, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_19001());
	nimln(167, "asyncdispatch.nim");
	(*result).Sup.id = currentid_190037;
	nimln(168, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(169, "asyncdispatch.nim");
	TMP767 = addInt(currentid_190037, ((NI) 1));
	currentid_190037 = (NI)(TMP767);
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_201011)(FutureHEX3Aobjecttype200645* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(188, "asyncdispatch.nim");
	{
		NimStringDesc* msg;
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		NimStringDesc* LOC7;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		NimStringDesc* LOC11;
		NimStringDesc* LOC12;
		NimStringDesc* LOC13;
		NimStringDesc* LOC14;
		Futureerror190008* err;
		Futureerror190008* e_201403;
		NimStringDesc* LOC15;
		if (!(*future).Sup.finished) goto LA3;
		nimln(189, "asyncdispatch.nim");
		msg = copyString(((NimStringDesc*) &TMP653));
		nimln(190, "asyncdispatch.nim");
		msg = resizeString(msg, 57);
appendString(msg, ((NimStringDesc*) &TMP654));
		nimln(191, "asyncdispatch.nim");
		msg = resizeString(msg, 8);
appendString(msg, ((NimStringDesc*) &TMP655));
		nimln(192, "asyncdispatch.nim");
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = nimIntToStr((*future).Sup.id);
		LOC5 = rawNewString(LOC6->Sup.len + 14);
appendString(LOC5, ((NimStringDesc*) &TMP656));
appendString(LOC5, LOC6);
		msg = resizeString(msg, LOC5->Sup.len + 0);
appendString(msg, LOC5);
		nimln(193, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = rawNewString((*future).Sup.fromproc->Sup.len + 20);
appendString(LOC7, ((NimStringDesc*) &TMP657));
appendString(LOC7, (*future).Sup.fromproc);
		msg = resizeString(msg, LOC7->Sup.len + 0);
appendString(msg, LOC7);
		nimln(194, "asyncdispatch.nim");
		msg = resizeString(msg, 37);
appendString(msg, ((NimStringDesc*) &TMP658));
		nimln(195, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.stacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
		nimln(199, "asyncdispatch.nim");
		msg = resizeString(msg, 49);
appendString(msg, ((NimStringDesc*) &TMP664));
		nimln(200, "asyncdispatch.nim");
		LOC11 = 0;
		LOC12 = 0;
		LOC12 = getstacktrace_19001();
		LOC13 = 0;
		LOC13 = nsuStrip(LOC12, NIM_TRUE, NIM_TRUE, TMP662);
		LOC14 = 0;
		LOC14 = nsuIndent(LOC13, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC11 = rawNewString(LOC14->Sup.len + 1);
appendString(LOC11, ((NimStringDesc*) &TMP659));
appendString(LOC11, LOC14);
		msg = resizeString(msg, LOC11->Sup.len + 0);
appendString(msg, LOC11);
		nimln(201, "asyncdispatch.nim");
		e_201403 = 0;
		nimln(2507, "system.nim");
		e_201403 = (Futureerror190008*) newObj((&NTI190604), sizeof(Futureerror190008));
		(*e_201403).Sup.Sup.m_type = (&NTI190008);
		nimln(2508, "system.nim");
		LOC15 = 0;
		LOC15 = (*e_201403).Sup.message; (*e_201403).Sup.message = copyStringRC1(msg);
		if (LOC15) nimGCunrefNoCycle(LOC15);
		err = e_201403;
		nimln(202, "asyncdispatch.nim");
		asgnRef((void**) (&(*err).cause), &future->Sup);
		nimln(203, "asyncdispatch.nim");
		raiseException((Exception*)err, "FutureError");
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_201002)(FutureHEX3Aobjecttype200645* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	checkfinished_201011(future);
	nimln(237, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(238, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(239, "asyncdispatch.nim");
	nimln(240, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_19003(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19001());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19003(error));
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA9;
		nimln(242, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP768)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, injectstacktrace_201445)(FutureHEX3Aobjecttype199569* future) {
	NimStringDesc* msg;
	NimStringDesc* LOC1;
	nimfr("injectStacktrace", "asyncdispatch.nim")
	nimln(272, "asyncdispatch.nim");
	msg = copyString(((NimStringDesc*) &TMP653));
	nimln(273, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = rawNewString((*future).Sup.fromproc->Sup.len + 39);
appendString(LOC1, ((NimStringDesc*) &TMP769));
appendString(LOC1, (*future).Sup.fromproc);
appendString(LOC1, ((NimStringDesc*) &TMP770));
	msg = resizeString(msg, LOC1->Sup.len + 0);
appendString(msg, LOC1);
	nimln(275, "asyncdispatch.nim");
	{
		NIM_BOOL LOC4;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		LOC4 = 0;
		LOC4 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC4)) goto LA5;
		nimln(349, "system.nim");
		LOC4 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA5: ;
		if (!LOC4) goto LA6;
		nimln(276, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.errorstacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
	}
	goto LA2;
	LA6: ;
	{
		nimln(278, "asyncdispatch.nim");
		msg = resizeString(msg, 30);
appendString(msg, ((NimStringDesc*) &TMP771));
	}
	LA2: ;
	nimln(279, "asyncdispatch.nim");
	(*(*future).Sup.error).message = resizeString((*(*future).Sup.error).message, msg->Sup.len + 0);
appendString((*(*future).Sup.error).message, msg);
	popFrame();
}

N_NIMCALL(void, read_201425)(FutureHEX3Aobjecttype199569* future, TY199562* Result) {
	nimfr("read", "asyncdispatch.nim")
{	nimln(286, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(287, "asyncdispatch.nim");
		{
			nimln(349, "system.nim");
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(288, "asyncdispatch.nim");
			injectstacktrace_201445(future);
			nimln(289, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
		nimln(291, "asyncdispatch.nim");
		unsureAsgnRef((void**) (&(*Result).Field0), copyString((*future).value.Field0));
		(*Result).Field1 = (*future).value.Field1;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3646* e_201803;
		NimStringDesc* LOC10;
		e_201803 = 0;
		nimln(2507, "system.nim");
		e_201803 = (Valueerror3646*) newObj((&NTI24025), sizeof(Valueerror3646));
		(*e_201803).Sup.Sup.m_type = (&NTI3646);
		nimln(2508, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_201803).Sup.message; (*e_201803).Sup.message = copyStringRC1(((NimStringDesc*) &TMP772));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(294, "asyncdispatch.nim");
		raiseException((Exception*)e_201803, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
}

N_NIMCALL(void, complete_201815)(FutureHEX3Aobjecttype200645* future, int val) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(208, "asyncdispatch.nim");
	checkfinished_201011(future);
	nimln(209, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_89116(((NimStringDesc*) &TMP670));
	}
	LA3: ;
	nimln(210, "asyncdispatch.nim");
	(*future).value = val;
	nimln(211, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(212, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA7;
		nimln(213, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP773)((*future).Sup.cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP776)(void* p, NI op) {
	TY202028* a;
	a = (TY202028*)p;
	nimGCvisit((void*)(*a).cb202024.ClEnv, op);
	nimGCvisit((void*)(*a).future202016, op);
}

N_CLOSURE(void, HEX3Aanonymous_202025)(void* ClEnv) {
	TY202028* HEX3Aenvp_202031;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_202031 = (TY202028*) ClEnv;
	nimln(267, "asyncdispatch.nim");
	(*HEX3Aenvp_202031).cb202024.ClEnv? (*HEX3Aenvp_202031).cb202024.ClPrc((*HEX3Aenvp_202031).future202016, (*HEX3Aenvp_202031).cb202024.ClEnv):((TMP777)((*HEX3Aenvp_202031).cb202024.ClPrc))((*HEX3Aenvp_202031).future202016);
	popFrame();
}

N_NIMCALL(void, callbackHEX3D_202011)(FutureHEX3Aobjecttype199569* future, TY202017 cb) {
	TY202028* HEX3Aenv_202034;
	FuturebaseHEX3Aobjecttype190009* LOC1;
	TY190010 LOC2;
	nimfr("callback=", "asyncdispatch.nim")
	HEX3Aenv_202034 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_202034 = (TY202028*) newObj((&NTI202027), sizeof(TY202028));
	nimln(262, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_202034).future202016), future);
	asgnRef((void**) (&(*HEX3Aenv_202034).cb202024.ClEnv), cb.ClEnv);
	(*HEX3Aenv_202034).cb202024.ClPrc = cb.ClPrc;
	nimln(267, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = &(*HEX3Aenv_202034).future202016->Sup;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = HEX3Aanonymous_202025; LOC2.ClEnv = HEX3Aenv_202034;
	callbackHEX3D_190841(LOC1, LOC2);
	popFrame();
}
N_NIMCALL(void, TMP779)(void* p, NI op) {
	TY202036* a;
	a = (TY202036*)p;
	nimGCvisit((void*)(*a).retfut200810, op);
}

N_CLOSURE(void, HEX3Aanonymous_200812)(FutureHEX3Aobjecttype199569* future, void* ClEnv) {
	TY202036* HEX3Aenvp_202039;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_202039 = (TY202036*) ClEnv;
	nimln(1230, "asyncdispatch.nim");
	{
		if (!!((*future).Sup.finished)) goto LA3;
		failedassertimpl_89116(((NimStringDesc*) &TMP781));
	}
	LA3: ;
	nimln(1231, "asyncdispatch.nim");
	{
		FuturebaseHEX3Aobjecttype190009* LOC7;
		NIM_BOOL LOC8;
		LOC7 = 0;
		LOC7 = &future->Sup;
		LOC8 = 0;
		LOC8 = failed_190922(LOC7);
		if (!LOC8) goto LA9;
		nimln(1232, "asyncdispatch.nim");
		fail_201002((*HEX3Aenvp_202039).retfut200810, (*future).Sup.error);
	}
	goto LA5;
	LA9: ;
	{
		TY199562 LOC12;
		nimln(1234, "asyncdispatch.nim");
		memset((void*)(&LOC12), 0, sizeof(LOC12));
		read_201425(future, (&LOC12));
		complete_201815((*HEX3Aenvp_202039).retfut200810, LOC12.Field1);
	}
	LA5: ;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype200645*, accept_200634)(int socket, NU8 flags) {
	FutureHEX3Aobjecttype200645* result;
	TY202036* HEX3Aenv_202041;
	FutureHEX3Aobjecttype199569* fut;
	TY202017 LOC1;
	nimfr("accept", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_202041 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_202041 = (TY202036*) newObj((&NTI202035), sizeof(TY202036));
	nimln(1226, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_202041).retfut200810), newfuture_200650(((NimStringDesc*) &TMP780)));
	nimln(1227, "asyncdispatch.nim");
	fut = acceptaddr_199555(socket, flags);
	nimln(1228, "asyncdispatch.nim");
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = HEX3Aanonymous_200812; LOC1.ClEnv = HEX3Aenv_202041;
	callbackHEX3D_202011(fut, LOC1);
	nimln(1235, "asyncdispatch.nim");
	result = (*HEX3Aenv_202041).retfut200810;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, injectstacktrace_202808)(FutureHEX3Aobjecttype197867* future) {
	NimStringDesc* msg;
	NimStringDesc* LOC1;
	nimfr("injectStacktrace", "asyncdispatch.nim")
	nimln(272, "asyncdispatch.nim");
	msg = copyString(((NimStringDesc*) &TMP653));
	nimln(273, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = rawNewString((*future).Sup.fromproc->Sup.len + 39);
appendString(LOC1, ((NimStringDesc*) &TMP769));
appendString(LOC1, (*future).Sup.fromproc);
appendString(LOC1, ((NimStringDesc*) &TMP770));
	msg = resizeString(msg, LOC1->Sup.len + 0);
appendString(msg, LOC1);
	nimln(275, "asyncdispatch.nim");
	{
		NIM_BOOL LOC4;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		LOC4 = 0;
		LOC4 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC4)) goto LA5;
		nimln(349, "system.nim");
		LOC4 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA5: ;
		if (!LOC4) goto LA6;
		nimln(276, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.errorstacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
	}
	goto LA2;
	LA6: ;
	{
		nimln(278, "asyncdispatch.nim");
		msg = resizeString(msg, 30);
appendString(msg, ((NimStringDesc*) &TMP771));
	}
	LA2: ;
	nimln(279, "asyncdispatch.nim");
	(*(*future).Sup.error).message = resizeString((*(*future).Sup.error).message, msg->Sup.len + 0);
appendString((*(*future).Sup.error).message, msg);
	popFrame();
}

N_NIMCALL(NimStringDesc*, read_202788)(FutureHEX3Aobjecttype197867* future) {
	NimStringDesc* result;
	nimfr("read", "asyncdispatch.nim")
{	result = 0;
	nimln(286, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(287, "asyncdispatch.nim");
		{
			nimln(349, "system.nim");
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(288, "asyncdispatch.nim");
			injectstacktrace_202808(future);
			nimln(289, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
		nimln(291, "asyncdispatch.nim");
		result = copyString((*future).value);
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3646* e_203203;
		NimStringDesc* LOC10;
		e_203203 = 0;
		nimln(2507, "system.nim");
		e_203203 = (Valueerror3646*) newObj((&NTI24025), sizeof(Valueerror3646));
		(*e_203203).Sup.Sup.m_type = (&NTI3646);
		nimln(2508, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_203203).Sup.message; (*e_203203).Sup.message = copyStringRC1(((NimStringDesc*) &TMP772));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(294, "asyncdispatch.nim");
		raiseException((Exception*)e_203203, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, finished_203437)(TY202778 x) {
	NIM_BOOL result;
	nimfr("finished", "system.nim")
	result = 0;
	nimln(3067, "system.nim");
	      result = *((NI*) x.ClEnv) < 0;
      
	popFrame();
	return result;
}
N_NIMCALL(void, TMP784)(void* p, NI op) {
	TY203619* a;
	a = (TY203619*)p;
	nimGCvisit((void*)(*a).retfuture202760, op);
	nimGCvisit((void*)(*a).nameitervar203431.ClEnv, op);
}
N_NIMCALL(void, TMP787)(void* p, NI op) {
	TY203611* a;
	a = (TY203611*)p;
	nimGCvisit((void*)(*a).result202780, op);
	nimGCvisit((void*)(*a).c202786, op);
	nimGCvisit((void*)(*a).future202762, op);
	nimGCvisit((void*)(*a).HEX3Aup, op);
	nimGCvisit((void*)(*a).future202763, op);
}

static N_INLINE(NIM_BOOL, eqStrings)(NimStringDesc* a, NimStringDesc* b) {
	NIM_BOOL result;
	NIM_BOOL LOC11;
	int LOC13;
{	result = 0;
	{
		if (!(a == b)) goto LA3;
		result = NIM_TRUE;
		goto BeforeRet;
	}
	LA3: ;
	{
		NIM_BOOL LOC7;
		LOC7 = 0;
		LOC7 = (a == NIM_NIL);
		if (LOC7) goto LA8;
		LOC7 = (b == NIM_NIL);
		LA8: ;
		if (!LOC7) goto LA9;
		result = NIM_FALSE;
		goto BeforeRet;
	}
	LA9: ;
	LOC11 = 0;
	LOC11 = ((*a).Sup.len == (*b).Sup.len);
	if (!(LOC11)) goto LA12;
	LOC13 = 0;
	LOC13 = memcmp(((NCSTRING) ((*a).data)), ((NCSTRING) ((*b).data)), (*a).Sup.len);
	LOC11 = (LOC13 == ((NI32) 0));
	LA12: ;
	result = LOC11;
	goto BeforeRet;
	}BeforeRet: ;
	return result;
}

N_CLOSURE(FuturebaseHEX3Aobjecttype190009*, recvlineiter_202761)(void* ClEnv) {
	FuturebaseHEX3Aobjecttype190009* result_202779;
	TY203611* HEX3Aenvp_203614;
	NimStringDesc* LOC1;
	NimStringDesc* LOC2;
	nimfr("recvLineIter", "asyncdispatch.nim")
{	result_202779 = 0;
	HEX3Aenvp_203614 = (TY203611*) ClEnv;
	switch ((*HEX3Aenvp_203614).HEX3Astate) {
	case -1: goto BeforeRet;
	case 0: goto STATE0;
	case 1: goto STATE1;
	case 2: goto STATE2;
	}
	STATE0: ;
	nimln(1598, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*HEX3Aenvp_203614).result202780; (*HEX3Aenvp_203614).result202780 = copyStringRC1(((NimStringDesc*) &TMP653));
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(1599, "asyncdispatch.nim");
	LOC2 = 0;
	LOC2 = (*HEX3Aenvp_203614).c202786; (*HEX3Aenvp_203614).c202786 = copyStringRC1(((NimStringDesc*) &TMP653));
	if (LOC2) nimGCunrefNoCycle(LOC2);
	{
		nimln(1600, "asyncdispatch.nim");
		while (1) {
			nimln(1601, "asyncdispatch.nim");
			asgnRef((void**) (&(*HEX3Aenvp_203614).future202762), recv_197855((*(*HEX3Aenvp_203614).HEX3Aup).socket202766, ((NI) 1), 2));
			(*HEX3Aenvp_203614).HEX3Astate = ((NI) 1);
			nimln(1324, "asyncdispatch.nim");
			result_202779 = &(*HEX3Aenvp_203614).future202762->Sup;
			goto BeforeRet;
			STATE1: ;
			nimln(1601, "asyncdispatch.nim");
			asgnRefNoCycle((void**) (&(*HEX3Aenvp_203614).c202786), read_202788((*HEX3Aenvp_203614).future202762));
			nimln(1602, "asyncdispatch.nim");
			{
				if (!(((*HEX3Aenvp_203614).c202786 ? (*HEX3Aenvp_203614).c202786->Sup.len : 0) == ((NI) 0))) goto LA7;
				nimln(1603, "asyncdispatch.nim");
				complete_198032((*(*HEX3Aenvp_203614).HEX3Aup).retfuture202760, ((NimStringDesc*) &TMP653));
				(*HEX3Aenvp_203614).HEX3Astate = ((NI) -1);
				result_202779 = NIM_NIL;
				goto BeforeRet;
			}
			LA7: ;
			nimln(1604, "asyncdispatch.nim");
			{
				if (!eqStrings((*HEX3Aenvp_203614).c202786, ((NimStringDesc*) &TMP788))) goto LA11;
				nimln(1605, "asyncdispatch.nim");
				asgnRef((void**) (&(*HEX3Aenvp_203614).future202763), recv_197855((*(*HEX3Aenvp_203614).HEX3Aup).socket202766, ((NI) 1), 2));
				(*HEX3Aenvp_203614).HEX3Astate = ((NI) 2);
				nimln(1324, "asyncdispatch.nim");
				result_202779 = &(*HEX3Aenvp_203614).future202763->Sup;
				goto BeforeRet;
				STATE2: ;
				nimln(1605, "asyncdispatch.nim");
				asgnRefNoCycle((void**) (&(*HEX3Aenvp_203614).c202786), read_202788((*HEX3Aenvp_203614).future202763));
				nimln(1606, "asyncdispatch.nim");
				{
					if (!!(eqStrings((*HEX3Aenvp_203614).c202786, ((NimStringDesc*) &TMP659)))) goto LA15;
					failedassertimpl_89116(((NimStringDesc*) &TMP789));
				}
				LA15: ;
				nimln(1595, "asyncdispatch.nim");
				{
					if (!(((*HEX3Aenvp_203614).result202780 ? (*HEX3Aenvp_203614).result202780->Sup.len : 0) == ((NI) 0))) goto LA19;
					nimln(1596, "asyncdispatch.nim");
					(*HEX3Aenvp_203614).result202780 = resizeString((*HEX3Aenvp_203614).result202780, 2);
appendString((*HEX3Aenvp_203614).result202780, ((NimStringDesc*) &TMP790));
				}
				LA19: ;
				nimln(84, "test.nim");
				complete_198032((*(*HEX3Aenvp_203614).HEX3Aup).retfuture202760, (*HEX3Aenvp_203614).result202780);
				nimln(1608, "asyncdispatch.nim");
				(*HEX3Aenvp_203614).HEX3Astate = ((NI) -1);
				nimln(84, "test.nim");
				result_202779 = NIM_NIL;
				goto BeforeRet;
			}
			goto LA9;
			LA11: ;
			{
				nimln(1609, "asyncdispatch.nim");
				if (!eqStrings((*HEX3Aenvp_203614).c202786, ((NimStringDesc*) &TMP659))) goto LA22;
				nimln(1595, "asyncdispatch.nim");
				{
					if (!(((*HEX3Aenvp_203614).result202780 ? (*HEX3Aenvp_203614).result202780->Sup.len : 0) == ((NI) 0))) goto LA26;
					nimln(1596, "asyncdispatch.nim");
					(*HEX3Aenvp_203614).result202780 = resizeString((*HEX3Aenvp_203614).result202780, 2);
appendString((*HEX3Aenvp_203614).result202780, ((NimStringDesc*) &TMP790));
				}
				LA26: ;
				nimln(84, "test.nim");
				complete_198032((*(*HEX3Aenvp_203614).HEX3Aup).retfuture202760, (*HEX3Aenvp_203614).result202780);
				nimln(1611, "asyncdispatch.nim");
				(*HEX3Aenvp_203614).HEX3Astate = ((NI) -1);
				nimln(84, "test.nim");
				result_202779 = NIM_NIL;
				goto BeforeRet;
			}
			goto LA9;
			LA22: ;
			LA9: ;
			nimln(1612, "asyncdispatch.nim");
			(*HEX3Aenvp_203614).result202780 = resizeString((*HEX3Aenvp_203614).result202780, (*HEX3Aenvp_203614).c202786->Sup.len + 0);
appendString((*HEX3Aenvp_203614).result202780, (*HEX3Aenvp_203614).c202786);
		}
	}
	complete_198032((*(*HEX3Aenvp_203614).HEX3Aup).retfuture202760, (*HEX3Aenvp_203614).result202780);
	nimln(1576, "asyncdispatch.nim");
	(*HEX3Aenvp_203614).HEX3Astate = ((NI) -1);
	}BeforeRet: ;
	popFrame();
	return result_202779;
}

static N_INLINE(void, pushSafePoint)(TSafePoint* s) {
	(*s).hasRaiseAction = NIM_FALSE;
	(*s).prev = exchandler_19437;
	exchandler_19437 = s;
}

static N_INLINE(void, popSafePoint)(void) {
	exchandler_19437 = (*exchandler_19437).prev;
}

static N_INLINE(void, setFrame)(TFrame* s) {
	frameptr_19436 = s;
}

static N_INLINE(Exception*, getCurrentException)(void) {
	Exception* result;
	nimfr("getCurrentException", "system.nim")
	result = 0;
	nimln(2990, "system.nim");
	result = currexception_19439;
	popFrame();
	return result;
}

static N_INLINE(void, popCurrentException)(void) {
	asgnRef((void**) (&currexception_19439), NIM_NIL);
}

N_CLOSURE(void, cb_203434)(void* ClEnv) {
	TY203619* HEX3Aenvp_203626;
	TSafePoint TMP791;
	nimfr("cb", "asyncdispatch.nim")
	HEX3Aenvp_203626 = (TY203619*) ClEnv;
	nimln(1255, "asyncdispatch.nim");
	pushSafePoint(&TMP791);
	TMP791.status = setjmp(TMP791.context);
	if (TMP791.status == 0) {
		nimln(1256, "asyncdispatch.nim");
		{
			NIM_BOOL LOC4;
			FuturebaseHEX3Aobjecttype190009* next_203433;
			LOC4 = 0;
			LOC4 = finished_203437((*HEX3Aenvp_203626).nameitervar203431);
			if (!!(LOC4)) goto LA5;
			nimln(1257, "asyncdispatch.nim");
			next_203433 = (*HEX3Aenvp_203626).nameitervar203431.ClPrc((*HEX3Aenvp_203626).nameitervar203431.ClEnv);
			nimln(1258, "asyncdispatch.nim");
			{
				if (!(next_203433 == NIM_NIL)) goto LA9;
				nimln(1259, "asyncdispatch.nim");
				{
					if (!!((*(*HEX3Aenvp_203626).retfuture202760).Sup.finished)) goto LA13;
					failedassertimpl_89116(((NimStringDesc*) &TMP793));
				}
				LA13: ;
			}
			goto LA7;
			LA9: ;
			{
				TY190010 LOC16;
				nimln(1262, "asyncdispatch.nim");
				memset((void*)(&LOC16), 0, sizeof(LOC16));
				LOC16.ClPrc = cb_203434; LOC16.ClEnv = HEX3Aenvp_203626;
				callbackHEX3D_190841(next_203433, LOC16);
			}
			LA7: ;
		}
		LA5: ;
		popSafePoint();
	}
	else {
		popSafePoint();
		setFrame((TFrame*)&FR);
		{
			TMP791.status = 0;
			nimln(1264, "asyncdispatch.nim");
			{
				if (!(*(*HEX3Aenvp_203626).retfuture202760).Sup.finished) goto LA21;
				nimln(1267, "asyncdispatch.nim");
				reraiseException();
			}
			goto LA19;
			LA21: ;
			{
				Exception* LOC24;
				nimln(1269, "asyncdispatch.nim");
				LOC24 = 0;
				LOC24 = getCurrentException();
				fail_198624((*HEX3Aenvp_203626).retfuture202760, LOC24);
			}
			LA19: ;
			popCurrentException();
		}
	}
	if (TMP791.status != 0) reraiseException();
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype197867*, recvline_202764)(int socket) {
	FutureHEX3Aobjecttype197867* result;
	TY203619* HEX3Aenv_203628;
	TY203611* HEX3Aenv_203629;
	TY202778 LOC1;
	TY190010 LOC2;
	nimfr("recvLine", "asyncdispatch.nim")
{	result = 0;
	HEX3Aenv_203628 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_203628 = (TY203619*) newObj((&NTI203618), sizeof(TY203619));
	nimln(1575, "asyncdispatch.nim");
	(*HEX3Aenv_203628).socket202766 = socket;
	asgnRef((void**) (&(*HEX3Aenv_203628).retfuture202760), newfuture_197872(((NimStringDesc*) &TMP785)));
	nimln(1252, "asyncdispatch.nim");
	HEX3Aenv_203629 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_203629 = (TY203611*) newObj((&NTI203610), sizeof(TY203611));
	nimln(1512, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_203629).HEX3Aup), HEX3Aenv_203628);
	memset((void*)(&LOC1), 0, sizeof(LOC1));
	LOC1.ClPrc = recvlineiter_202761; LOC1.ClEnv = HEX3Aenv_203629;
	asgnRef((void**) (&(*HEX3Aenv_203628).nameitervar203431.ClEnv), LOC1.ClEnv);
	(*HEX3Aenv_203628).nameitervar203431.ClPrc = LOC1.ClPrc;
	nimln(1270, "asyncdispatch.nim");
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = cb_203434; LOC2.ClEnv = HEX3Aenv_203628;
	LOC2.ClEnv? LOC2.ClPrc(LOC2.ClEnv):((TMP794)(LOC2.ClPrc))();
	nimln(1612, "asyncdispatch.nim");
	nimln(1494, "asyncdispatch.nim");
	result = (*HEX3Aenv_203628).retfuture202760;
	goto BeforeRet;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, runforever_203634)(void) {
	nimfr("runForever", "asyncdispatch.nim")
	{
		nimln(1616, "asyncdispatch.nim");
		while (1) {
			nimln(1617, "asyncdispatch.nim");
			poll_196905(((NI) 500));
		}
	}
	popFrame();
}

N_NIMCALL(void, injectstacktrace_204644)(FutureHEX3Aobjecttype190284* future) {
	NimStringDesc* msg;
	NimStringDesc* LOC1;
	nimfr("injectStacktrace", "asyncdispatch.nim")
	nimln(272, "asyncdispatch.nim");
	msg = copyString(((NimStringDesc*) &TMP653));
	nimln(273, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = rawNewString((*future).Sup.fromproc->Sup.len + 39);
appendString(LOC1, ((NimStringDesc*) &TMP769));
appendString(LOC1, (*future).Sup.fromproc);
appendString(LOC1, ((NimStringDesc*) &TMP770));
	msg = resizeString(msg, LOC1->Sup.len + 0);
appendString(msg, LOC1);
	nimln(275, "asyncdispatch.nim");
	{
		NIM_BOOL LOC4;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		LOC4 = 0;
		LOC4 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC4)) goto LA5;
		nimln(349, "system.nim");
		LOC4 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA5: ;
		if (!LOC4) goto LA6;
		nimln(276, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.errorstacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
	}
	goto LA2;
	LA6: ;
	{
		nimln(278, "asyncdispatch.nim");
		msg = resizeString(msg, 30);
appendString(msg, ((NimStringDesc*) &TMP771));
	}
	LA2: ;
	nimln(279, "asyncdispatch.nim");
	(*(*future).Sup.error).message = resizeString((*(*future).Sup.error).message, msg->Sup.len + 0);
appendString((*(*future).Sup.error).message, msg);
	popFrame();
}

N_NIMCALL(void, read_204625)(FutureHEX3Aobjecttype190284* future) {
	nimfr("read", "asyncdispatch.nim")
	nimln(286, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(287, "asyncdispatch.nim");
		{
			nimln(349, "system.nim");
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(288, "asyncdispatch.nim");
			injectstacktrace_204644(future);
			nimln(289, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3646* e_205003;
		NimStringDesc* LOC10;
		e_205003 = 0;
		nimln(2507, "system.nim");
		e_205003 = (Valueerror3646*) newObj((&NTI24025), sizeof(Valueerror3646));
		(*e_205003).Sup.Sup.m_type = (&NTI3646);
		nimln(2508, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_205003).Sup.message; (*e_205003).Sup.message = copyStringRC1(((NimStringDesc*) &TMP772));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(294, "asyncdispatch.nim");
		raiseException((Exception*)e_205003, "ValueError");
	}
	LA1: ;
	popFrame();
}

N_NIMCALL(void, injectstacktrace_205622)(FutureHEX3Aobjecttype198692* future) {
	NimStringDesc* msg;
	NimStringDesc* LOC1;
	nimfr("injectStacktrace", "asyncdispatch.nim")
	nimln(272, "asyncdispatch.nim");
	msg = copyString(((NimStringDesc*) &TMP653));
	nimln(273, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = rawNewString((*future).Sup.fromproc->Sup.len + 39);
appendString(LOC1, ((NimStringDesc*) &TMP769));
appendString(LOC1, (*future).Sup.fromproc);
appendString(LOC1, ((NimStringDesc*) &TMP770));
	msg = resizeString(msg, LOC1->Sup.len + 0);
appendString(msg, LOC1);
	nimln(275, "asyncdispatch.nim");
	{
		NIM_BOOL LOC4;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		LOC4 = 0;
		LOC4 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC4)) goto LA5;
		nimln(349, "system.nim");
		LOC4 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA5: ;
		if (!LOC4) goto LA6;
		nimln(276, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.errorstacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
	}
	goto LA2;
	LA6: ;
	{
		nimln(278, "asyncdispatch.nim");
		msg = resizeString(msg, 30);
appendString(msg, ((NimStringDesc*) &TMP771));
	}
	LA2: ;
	nimln(279, "asyncdispatch.nim");
	(*(*future).Sup.error).message = resizeString((*(*future).Sup.error).message, msg->Sup.len + 0);
appendString((*(*future).Sup.error).message, msg);
	popFrame();
}

N_NIMCALL(NI, read_205602)(FutureHEX3Aobjecttype198692* future) {
	NI result;
	nimfr("read", "asyncdispatch.nim")
{	result = 0;
	nimln(286, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(287, "asyncdispatch.nim");
		{
			nimln(349, "system.nim");
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(288, "asyncdispatch.nim");
			injectstacktrace_205622(future);
			nimln(289, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
		nimln(291, "asyncdispatch.nim");
		result = (*future).value;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3646* e_206003;
		NimStringDesc* LOC10;
		e_206003 = 0;
		nimln(2507, "system.nim");
		e_206003 = (Valueerror3646*) newObj((&NTI24025), sizeof(Valueerror3646));
		(*e_206003).Sup.Sup.m_type = (&NTI3646);
		nimln(2508, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_206003).Sup.message; (*e_206003).Sup.message = copyStringRC1(((NimStringDesc*) &TMP772));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(294, "asyncdispatch.nim");
		raiseException((Exception*)e_206003, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}
N_NIMCALL(void, TMP844)(void* p, NI op) {
	FutureHEX3Aobjecttype207243* a;
	a = (FutureHEX3Aobjecttype207243*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
	nimGCvisit((void*)(*a).value.Field0, op);
	nimGCvisit((void*)(*a).value.Field1, op);
}

N_NIMCALL(FutureHEX3Aobjecttype207243*, newfuture_207251)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype207243* result;
	NimStringDesc* LOC1;
	NI TMP845;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(163, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype207243*) newObj((&NTI207242), sizeof(FutureHEX3Aobjecttype207243));
	(*result).Sup.Sup.m_type = (&NTI207243);
	nimln(164, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(166, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_19001());
	nimln(167, "asyncdispatch.nim");
	(*result).Sup.id = currentid_190037;
	nimln(168, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(169, "asyncdispatch.nim");
	TMP845 = addInt(currentid_190037, ((NI) 1));
	currentid_190037 = (NI)(TMP845);
	popFrame();
	return result;
}

N_NIMCALL(NIM_BOOL, finished_207421)(FutureHEX3Aobjecttype199569* future) {
	NIM_BOOL result;
	nimfr("finished", "asyncdispatch.nim")
	result = 0;
	nimln(313, "asyncdispatch.nim");
	result = (*future).Sup.finished;
	popFrame();
	return result;
}

N_NIMCALL(Exception*, readerror_207602)(FutureHEX3Aobjecttype199569* future) {
	Exception* result;
	nimfr("readError", "asyncdispatch.nim")
{	result = 0;
	nimln(301, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		nimln(301, "asyncdispatch.nim");
		result = (*future).Sup.error;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3646* e_207623;
		NimStringDesc* LOC6;
		e_207623 = 0;
		nimln(2507, "system.nim");
		e_207623 = (Valueerror3646*) newObj((&NTI24025), sizeof(Valueerror3646));
		(*e_207623).Sup.Sup.m_type = (&NTI3646);
		nimln(2508, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_207623).Sup.message; (*e_207623).Sup.message = copyStringRC1(((NimStringDesc*) &TMP846));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(303, "asyncdispatch.nim");
		raiseException((Exception*)e_207623, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_207644)(FutureHEX3Aobjecttype207243* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(188, "asyncdispatch.nim");
	{
		NimStringDesc* msg;
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		NimStringDesc* LOC7;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		NimStringDesc* LOC11;
		NimStringDesc* LOC12;
		NimStringDesc* LOC13;
		NimStringDesc* LOC14;
		Futureerror190008* err;
		Futureerror190008* e_208003;
		NimStringDesc* LOC15;
		if (!(*future).Sup.finished) goto LA3;
		nimln(189, "asyncdispatch.nim");
		msg = copyString(((NimStringDesc*) &TMP653));
		nimln(190, "asyncdispatch.nim");
		msg = resizeString(msg, 57);
appendString(msg, ((NimStringDesc*) &TMP654));
		nimln(191, "asyncdispatch.nim");
		msg = resizeString(msg, 8);
appendString(msg, ((NimStringDesc*) &TMP655));
		nimln(192, "asyncdispatch.nim");
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = nimIntToStr((*future).Sup.id);
		LOC5 = rawNewString(LOC6->Sup.len + 14);
appendString(LOC5, ((NimStringDesc*) &TMP656));
appendString(LOC5, LOC6);
		msg = resizeString(msg, LOC5->Sup.len + 0);
appendString(msg, LOC5);
		nimln(193, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = rawNewString((*future).Sup.fromproc->Sup.len + 20);
appendString(LOC7, ((NimStringDesc*) &TMP657));
appendString(LOC7, (*future).Sup.fromproc);
		msg = resizeString(msg, LOC7->Sup.len + 0);
appendString(msg, LOC7);
		nimln(194, "asyncdispatch.nim");
		msg = resizeString(msg, 37);
appendString(msg, ((NimStringDesc*) &TMP658));
		nimln(195, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.stacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
		nimln(199, "asyncdispatch.nim");
		msg = resizeString(msg, 49);
appendString(msg, ((NimStringDesc*) &TMP664));
		nimln(200, "asyncdispatch.nim");
		LOC11 = 0;
		LOC12 = 0;
		LOC12 = getstacktrace_19001();
		LOC13 = 0;
		LOC13 = nsuStrip(LOC12, NIM_TRUE, NIM_TRUE, TMP662);
		LOC14 = 0;
		LOC14 = nsuIndent(LOC13, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC11 = rawNewString(LOC14->Sup.len + 1);
appendString(LOC11, ((NimStringDesc*) &TMP659));
appendString(LOC11, LOC14);
		msg = resizeString(msg, LOC11->Sup.len + 0);
appendString(msg, LOC11);
		nimln(201, "asyncdispatch.nim");
		e_208003 = 0;
		nimln(2507, "system.nim");
		e_208003 = (Futureerror190008*) newObj((&NTI190604), sizeof(Futureerror190008));
		(*e_208003).Sup.Sup.m_type = (&NTI190008);
		nimln(2508, "system.nim");
		LOC15 = 0;
		LOC15 = (*e_208003).Sup.message; (*e_208003).Sup.message = copyStringRC1(msg);
		if (LOC15) nimGCunrefNoCycle(LOC15);
		err = e_208003;
		nimln(202, "asyncdispatch.nim");
		asgnRef((void**) (&(*err).cause), &future->Sup);
		nimln(203, "asyncdispatch.nim");
		raiseException((Exception*)err, "FutureError");
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_207635)(FutureHEX3Aobjecttype207243* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	checkfinished_207644(future);
	nimln(237, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(238, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(239, "asyncdispatch.nim");
	nimln(240, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_19003(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19001());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19003(error));
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA9;
		nimln(242, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP847)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, complete_208049)(FutureHEX3Aobjecttype207243* future, TY207236 val) {
	NimStringDesc* LOC5;
	nimfr("complete", "asyncdispatch.nim")
	nimln(208, "asyncdispatch.nim");
	checkfinished_207644(future);
	nimln(209, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_89116(((NimStringDesc*) &TMP670));
	}
	LA3: ;
	nimln(210, "asyncdispatch.nim");
	LOC5 = 0;
	LOC5 = (*future).value.Field0; (*future).value.Field0 = copyStringRC1(val.Field0);
	if (LOC5) nimGCunrefNoCycle(LOC5);
	asgnRefNoCycle((void**) (&(*future).value.Field1), val.Field1);
	nimln(211, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(212, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA8;
		nimln(213, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP848)((*future).Sup.cb.ClPrc))();
	}
	LA8: ;
	popFrame();
}
N_NIMCALL(void, TMP853)(void* p, NI op) {
	FutureHEX3Aobjecttype208245* a;
	a = (FutureHEX3Aobjecttype208245*)p;
	nimGCvisit((void*)(*a).Sup.cb.ClEnv, op);
	nimGCvisit((void*)(*a).Sup.error, op);
	nimGCvisit((void*)(*a).Sup.errorstacktrace, op);
	nimGCvisit((void*)(*a).Sup.stacktrace, op);
	nimGCvisit((void*)(*a).Sup.fromproc, op);
	nimGCvisit((void*)(*a).value, op);
}

N_NIMCALL(FutureHEX3Aobjecttype208245*, newfuture_208250)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype208245* result;
	NimStringDesc* LOC1;
	NI TMP854;
	nimfr("newFuture", "asyncdispatch.nim")
	result = 0;
	nimln(163, "asyncdispatch.nim");
	result = (FutureHEX3Aobjecttype208245*) newObj((&NTI208244), sizeof(FutureHEX3Aobjecttype208245));
	(*result).Sup.Sup.m_type = (&NTI208245);
	nimln(164, "asyncdispatch.nim");
	(*result).Sup.finished = NIM_FALSE;
	nimln(166, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*result).Sup.stacktrace), getstacktrace_19001());
	nimln(167, "asyncdispatch.nim");
	(*result).Sup.id = currentid_190037;
	nimln(168, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = (*result).Sup.fromproc; (*result).Sup.fromproc = copyStringRC1(fromproc);
	if (LOC1) nimGCunrefNoCycle(LOC1);
	nimln(169, "asyncdispatch.nim");
	TMP854 = addInt(currentid_190037, ((NI) 1));
	currentid_190037 = (NI)(TMP854);
	popFrame();
	return result;
}

N_NIMCALL(NIM_BOOL, finished_208421)(FutureHEX3Aobjecttype207243* future) {
	NIM_BOOL result;
	nimfr("finished", "asyncdispatch.nim")
	result = 0;
	nimln(313, "asyncdispatch.nim");
	result = (*future).Sup.finished;
	popFrame();
	return result;
}

N_NIMCALL(Exception*, readerror_208602)(FutureHEX3Aobjecttype207243* future) {
	Exception* result;
	nimfr("readError", "asyncdispatch.nim")
{	result = 0;
	nimln(301, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		nimln(301, "asyncdispatch.nim");
		result = (*future).Sup.error;
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3646* e_208623;
		NimStringDesc* LOC6;
		e_208623 = 0;
		nimln(2507, "system.nim");
		e_208623 = (Valueerror3646*) newObj((&NTI24025), sizeof(Valueerror3646));
		(*e_208623).Sup.Sup.m_type = (&NTI3646);
		nimln(2508, "system.nim");
		LOC6 = 0;
		LOC6 = (*e_208623).Sup.message; (*e_208623).Sup.message = copyStringRC1(((NimStringDesc*) &TMP846));
		if (LOC6) nimGCunrefNoCycle(LOC6);
		nimln(303, "asyncdispatch.nim");
		raiseException((Exception*)e_208623, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
	return result;
}

N_NIMCALL(void, checkfinished_208644)(FutureHEX3Aobjecttype208245* future) {
	nimfr("checkFinished", "asyncdispatch.nim")
	nimln(188, "asyncdispatch.nim");
	{
		NimStringDesc* msg;
		NimStringDesc* LOC5;
		NimStringDesc* LOC6;
		NimStringDesc* LOC7;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		NimStringDesc* LOC11;
		NimStringDesc* LOC12;
		NimStringDesc* LOC13;
		NimStringDesc* LOC14;
		Futureerror190008* err;
		Futureerror190008* e_209003;
		NimStringDesc* LOC15;
		if (!(*future).Sup.finished) goto LA3;
		nimln(189, "asyncdispatch.nim");
		msg = copyString(((NimStringDesc*) &TMP653));
		nimln(190, "asyncdispatch.nim");
		msg = resizeString(msg, 57);
appendString(msg, ((NimStringDesc*) &TMP654));
		nimln(191, "asyncdispatch.nim");
		msg = resizeString(msg, 8);
appendString(msg, ((NimStringDesc*) &TMP655));
		nimln(192, "asyncdispatch.nim");
		LOC5 = 0;
		LOC6 = 0;
		LOC6 = nimIntToStr((*future).Sup.id);
		LOC5 = rawNewString(LOC6->Sup.len + 14);
appendString(LOC5, ((NimStringDesc*) &TMP656));
appendString(LOC5, LOC6);
		msg = resizeString(msg, LOC5->Sup.len + 0);
appendString(msg, LOC5);
		nimln(193, "asyncdispatch.nim");
		LOC7 = 0;
		LOC7 = rawNewString((*future).Sup.fromproc->Sup.len + 20);
appendString(LOC7, ((NimStringDesc*) &TMP657));
appendString(LOC7, (*future).Sup.fromproc);
		msg = resizeString(msg, LOC7->Sup.len + 0);
appendString(msg, LOC7);
		nimln(194, "asyncdispatch.nim");
		msg = resizeString(msg, 37);
appendString(msg, ((NimStringDesc*) &TMP658));
		nimln(195, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.stacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
		nimln(199, "asyncdispatch.nim");
		msg = resizeString(msg, 49);
appendString(msg, ((NimStringDesc*) &TMP664));
		nimln(200, "asyncdispatch.nim");
		LOC11 = 0;
		LOC12 = 0;
		LOC12 = getstacktrace_19001();
		LOC13 = 0;
		LOC13 = nsuStrip(LOC12, NIM_TRUE, NIM_TRUE, TMP662);
		LOC14 = 0;
		LOC14 = nsuIndent(LOC13, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC11 = rawNewString(LOC14->Sup.len + 1);
appendString(LOC11, ((NimStringDesc*) &TMP659));
appendString(LOC11, LOC14);
		msg = resizeString(msg, LOC11->Sup.len + 0);
appendString(msg, LOC11);
		nimln(201, "asyncdispatch.nim");
		e_209003 = 0;
		nimln(2507, "system.nim");
		e_209003 = (Futureerror190008*) newObj((&NTI190604), sizeof(Futureerror190008));
		(*e_209003).Sup.Sup.m_type = (&NTI190008);
		nimln(2508, "system.nim");
		LOC15 = 0;
		LOC15 = (*e_209003).Sup.message; (*e_209003).Sup.message = copyStringRC1(msg);
		if (LOC15) nimGCunrefNoCycle(LOC15);
		err = e_209003;
		nimln(202, "asyncdispatch.nim");
		asgnRef((void**) (&(*err).cause), &future->Sup);
		nimln(203, "asyncdispatch.nim");
		raiseException((Exception*)err, "FutureError");
	}
	LA3: ;
	popFrame();
}

N_NIMCALL(void, fail_208635)(FutureHEX3Aobjecttype208245* future, Exception* error) {
	nimfr("fail", "asyncdispatch.nim")
	nimln(236, "asyncdispatch.nim");
	checkfinished_208644(future);
	nimln(237, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(238, "asyncdispatch.nim");
	asgnRef((void**) (&(*future).Sup.error), error);
	nimln(239, "asyncdispatch.nim");
	nimln(240, "asyncdispatch.nim");
	{
		NimStringDesc* LOC3;
		LOC3 = 0;
		LOC3 = getstacktrace_19003(error);
		if (!((LOC3) && (LOC3)->Sup.len == 0)) goto LA4;
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19001());
	}
	goto LA1;
	LA4: ;
	{
		asgnRefNoCycle((void**) (&(*future).Sup.errorstacktrace), getstacktrace_19003(error));
	}
	LA1: ;
	nimln(241, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA9;
		nimln(242, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP855)((*future).Sup.cb.ClPrc))();
	}
	goto LA7;
	LA9: ;
	{
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(void, injectstacktrace_209045)(FutureHEX3Aobjecttype207243* future) {
	NimStringDesc* msg;
	NimStringDesc* LOC1;
	nimfr("injectStacktrace", "asyncdispatch.nim")
	nimln(272, "asyncdispatch.nim");
	msg = copyString(((NimStringDesc*) &TMP653));
	nimln(273, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = rawNewString((*future).Sup.fromproc->Sup.len + 39);
appendString(LOC1, ((NimStringDesc*) &TMP769));
appendString(LOC1, (*future).Sup.fromproc);
appendString(LOC1, ((NimStringDesc*) &TMP770));
	msg = resizeString(msg, LOC1->Sup.len + 0);
appendString(msg, LOC1);
	nimln(275, "asyncdispatch.nim");
	{
		NIM_BOOL LOC4;
		NimStringDesc* LOC8;
		NimStringDesc* LOC9;
		NimStringDesc* LOC10;
		LOC4 = 0;
		LOC4 = !((*future).Sup.errorstacktrace == 0);
		if (!(LOC4)) goto LA5;
		nimln(349, "system.nim");
		LOC4 = !((((*future).Sup.errorstacktrace) && ((*future).Sup.errorstacktrace)->Sup.len == 0));
		LA5: ;
		if (!LOC4) goto LA6;
		nimln(276, "asyncdispatch.nim");
		LOC8 = 0;
		LOC9 = 0;
		LOC9 = nsuStrip((*future).Sup.errorstacktrace, NIM_TRUE, NIM_TRUE, TMP662);
		LOC10 = 0;
		LOC10 = nsuIndent(LOC9, ((NI) 4), ((NimStringDesc*) &TMP663));
		LOC8 = rawNewString(LOC10->Sup.len + 1);
appendString(LOC8, ((NimStringDesc*) &TMP659));
appendString(LOC8, LOC10);
		msg = resizeString(msg, LOC8->Sup.len + 0);
appendString(msg, LOC8);
	}
	goto LA2;
	LA6: ;
	{
		nimln(278, "asyncdispatch.nim");
		msg = resizeString(msg, 30);
appendString(msg, ((NimStringDesc*) &TMP771));
	}
	LA2: ;
	nimln(279, "asyncdispatch.nim");
	(*(*future).Sup.error).message = resizeString((*(*future).Sup.error).message, msg->Sup.len + 0);
appendString((*(*future).Sup.error).message, msg);
	popFrame();
}

N_NIMCALL(void, read_209025)(FutureHEX3Aobjecttype207243* future, TY207236* Result) {
	nimfr("read", "asyncdispatch.nim")
{	nimln(286, "asyncdispatch.nim");
	{
		if (!(*future).Sup.finished) goto LA3;
		nimln(287, "asyncdispatch.nim");
		{
			nimln(349, "system.nim");
			if (!!(((*future).Sup.error == NIM_NIL))) goto LA7;
			nimln(288, "asyncdispatch.nim");
			injectstacktrace_209045(future);
			nimln(289, "asyncdispatch.nim");
			raiseException((Exception*)(*future).Sup.error, "Exception");
		}
		LA7: ;
		nimln(291, "asyncdispatch.nim");
		unsureAsgnRef((void**) (&(*Result).Field0), copyString((*future).value.Field0));
		unsureAsgnRef((void**) (&(*Result).Field1), (*future).value.Field1);
		goto BeforeRet;
	}
	goto LA1;
	LA3: ;
	{
		Valueerror3646* e_209403;
		NimStringDesc* LOC10;
		e_209403 = 0;
		nimln(2507, "system.nim");
		e_209403 = (Valueerror3646*) newObj((&NTI24025), sizeof(Valueerror3646));
		(*e_209403).Sup.Sup.m_type = (&NTI3646);
		nimln(2508, "system.nim");
		LOC10 = 0;
		LOC10 = (*e_209403).Sup.message; (*e_209403).Sup.message = copyStringRC1(((NimStringDesc*) &TMP772));
		if (LOC10) nimGCunrefNoCycle(LOC10);
		nimln(294, "asyncdispatch.nim");
		raiseException((Exception*)e_209403, "ValueError");
	}
	LA1: ;
	}BeforeRet: ;
	popFrame();
}

N_NIMCALL(void, complete_209415)(FutureHEX3Aobjecttype208245* future, Asyncsocketdesc204202* val) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(208, "asyncdispatch.nim");
	checkfinished_208644(future);
	nimln(209, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_89116(((NimStringDesc*) &TMP670));
	}
	LA3: ;
	nimln(210, "asyncdispatch.nim");
	asgnRefNoCycle((void**) (&(*future).value), val);
	nimln(211, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(212, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA7;
		nimln(213, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP856)((*future).Sup.cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}
N_NIMCALL(void, TMP859)(void* p, NI op) {
	TY209628* a;
	a = (TY209628*)p;
	nimGCvisit((void*)(*a).cb209624.ClEnv, op);
	nimGCvisit((void*)(*a).future209616, op);
}

N_CLOSURE(void, HEX3Aanonymous_209625)(void* ClEnv) {
	TY209628* HEX3Aenvp_209631;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_209631 = (TY209628*) ClEnv;
	nimln(267, "asyncdispatch.nim");
	(*HEX3Aenvp_209631).cb209624.ClEnv? (*HEX3Aenvp_209631).cb209624.ClPrc((*HEX3Aenvp_209631).future209616, (*HEX3Aenvp_209631).cb209624.ClEnv):((TMP860)((*HEX3Aenvp_209631).cb209624.ClPrc))((*HEX3Aenvp_209631).future209616);
	popFrame();
}

N_NIMCALL(void, callbackHEX3D_209611)(FutureHEX3Aobjecttype207243* future, TY209617 cb) {
	TY209628* HEX3Aenv_209634;
	FuturebaseHEX3Aobjecttype190009* LOC1;
	TY190010 LOC2;
	nimfr("callback=", "asyncdispatch.nim")
	HEX3Aenv_209634 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_209634 = (TY209628*) newObj((&NTI209627), sizeof(TY209628));
	nimln(262, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_209634).future209616), future);
	asgnRef((void**) (&(*HEX3Aenv_209634).cb209624.ClEnv), cb.ClEnv);
	(*HEX3Aenv_209634).cb209624.ClPrc = cb.ClPrc;
	nimln(267, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = &(*HEX3Aenv_209634).future209616->Sup;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = HEX3Aanonymous_209625; LOC2.ClEnv = HEX3Aenv_209634;
	callbackHEX3D_190841(LOC1, LOC2);
	popFrame();
}

N_NIMCALL(NimStringDesc**, mget_209802)(FutureHEX3Aobjecttype197867* future) {
	NimStringDesc** result;
	nimfr("mget", "asyncdispatch.nim")
	result = 0;
	nimln(310, "asyncdispatch.nim");
	result = (&(*future).value);
	popFrame();
	return result;
}

N_NIMCALL(void, complete_210213)(FutureHEX3Aobjecttype197867* future) {
	nimfr("complete", "asyncdispatch.nim")
	nimln(227, "asyncdispatch.nim");
	checkfinished_198041(future);
	nimln(228, "asyncdispatch.nim");
	{
		if (!!(((*future).Sup.error == NIM_NIL))) goto LA3;
		failedassertimpl_89116(((NimStringDesc*) &TMP864));
	}
	LA3: ;
	nimln(229, "asyncdispatch.nim");
	(*future).Sup.finished = NIM_TRUE;
	nimln(230, "asyncdispatch.nim");
	{
		nimln(349, "system.nim");
		if (!!(((*future).Sup.cb.ClPrc == TMP671.ClPrc && (*future).Sup.cb.ClEnv == TMP671.ClEnv))) goto LA7;
		nimln(231, "asyncdispatch.nim");
		(*future).Sup.cb.ClEnv? (*future).Sup.cb.ClPrc((*future).Sup.cb.ClEnv):((TMP865)((*future).Sup.cb.ClPrc))();
	}
	LA7: ;
	popFrame();
}

N_NIMCALL(FutureHEX3Aobjecttype197867*, newfuturevar_211202)(NimStringDesc* fromproc) {
	FutureHEX3Aobjecttype197867* result;
	nimfr("newFutureVar", "asyncdispatch.nim")
	result = 0;
	nimln(177, "asyncdispatch.nim");
	result = newfuture_197872(fromproc);
	popFrame();
	return result;
}
N_NIMCALL(void, TMP926)(void* p, NI op) {
	TY213652* a;
	a = (TY213652*)p;
	nimGCvisit((void*)(*a).future213641, op);
}

N_CLOSURE(void, HEX3Aanonymous_213642)(void* ClEnv) {
	TY213652* HEX3Aenvp_213655;
	nimfr(":anonymous", "asyncdispatch.nim")
	HEX3Aenvp_213655 = (TY213652*) ClEnv;
	nimln(329, "asyncdispatch.nim");
	{
		FuturebaseHEX3Aobjecttype190009* LOC3;
		NIM_BOOL LOC4;
		LOC3 = 0;
		LOC3 = &(*HEX3Aenvp_213655).future213641->Sup;
		LOC4 = 0;
		LOC4 = failed_190922(LOC3);
		if (!LOC4) goto LA5;
		nimln(330, "asyncdispatch.nim");
		injectstacktrace_204644((*HEX3Aenvp_213655).future213641);
		nimln(331, "asyncdispatch.nim");
		raiseException((Exception*)(*(*HEX3Aenvp_213655).future213641).Sup.error, "Exception");
	}
	LA5: ;
	popFrame();
}

N_NIMCALL(void, asynccheck_213636)(FutureHEX3Aobjecttype190284* future) {
	TY213652* HEX3Aenv_213657;
	FuturebaseHEX3Aobjecttype190009* LOC1;
	TY190010 LOC2;
	nimfr("asyncCheck", "asyncdispatch.nim")
	HEX3Aenv_213657 = 0;
	nimln(198, "system.nim");
	HEX3Aenv_213657 = (TY213652*) newObj((&NTI213651), sizeof(TY213652));
	nimln(322, "asyncdispatch.nim");
	asgnRef((void**) (&(*HEX3Aenv_213657).future213641), future);
	nimln(327, "asyncdispatch.nim");
	LOC1 = 0;
	LOC1 = &(*HEX3Aenv_213657).future213641->Sup;
	memset((void*)(&LOC2), 0, sizeof(LOC2));
	LOC2.ClPrc = HEX3Aanonymous_213642; LOC2.ClEnv = HEX3Aenv_213657;
	callbackHEX3D_190841(LOC1, LOC2);
	popFrame();
}
NIM_EXTERNC N_NOINLINE(void, stdlib_asyncdispatchInit000)(void) {
	nimfr("asyncdispatch", "asyncdispatch.nim")
	nimln(157, "asyncdispatch.nim");
	currentid_190037 = ((NI) 0);
	popFrame();
}

NIM_EXTERNC N_NOINLINE(void, stdlib_asyncdispatchDatInit000)(void) {
static TNimNode* TMP665[7];
static TNimNode* TMP666[2];
static TNimNode* TMP674[2];
static TNimNode* TMP721[2];
static TNimNode* TMP731[3];
static TNimNode* TMP732[2];
static TNimNode* TMP742[2];
static TNimNode* TMP746[5];
static TNimNode* TMP753[5];
static TNimNode* TMP756[5];
static TNimNode* TMP761[3];
static TNimNode* TMP774[3];
static TNimNode* TMP775[2];
static TNimNode* TMP778[2];
static TNimNode* TMP782[4];
static TNimNode* TMP783[2];
static TNimNode* TMP786[6];
static TNimNode* TMP857[3];
static TNimNode* TMP858[2];
static TNimNode* TMP925[2];
static TNimNode TMP609[96];
NTI190008.size = sizeof(Futureerror190008);
NTI190008.kind = 17;
NTI190008.base = (&NTI3624);
NTI190009.size = sizeof(FuturebaseHEX3Aobjecttype190009);
NTI190009.kind = 17;
NTI190009.base = (&NTI3608);
TMP665[0] = &TMP609[2];
NTI190010.size = sizeof(TY190810);
NTI190010.kind = 18;
NTI190010.base = 0;
NTI190010.flags = 2;
TMP666[0] = &TMP609[4];
TMP609[4].kind = 1;
TMP609[4].offset = offsetof(TY190810, Field0);
TMP609[4].typ = (&NTI142);
TMP609[4].name = "Field0";
TMP666[1] = &TMP609[5];
NTI190813.size = sizeof(TY190813);
NTI190813.kind = 18;
NTI190813.base = 0;
NTI190813.flags = 3;
TMP609[6].len = 0; TMP609[6].kind = 2;
NTI190813.node = &TMP609[6];
NTI190812.size = sizeof(TY190813*);
NTI190812.kind = 22;
NTI190812.base = (&NTI190813);
NTI190812.flags = 2;
NTI190812.marker = TMP667;
TMP609[5].kind = 1;
TMP609[5].offset = offsetof(TY190810, Field1);
TMP609[5].typ = (&NTI190812);
TMP609[5].name = "Field1";
TMP609[3].len = 2; TMP609[3].kind = 2; TMP609[3].sons = &TMP666[0];
NTI190010.node = &TMP609[3];
TMP609[2].kind = 1;
TMP609[2].offset = offsetof(FuturebaseHEX3Aobjecttype190009, cb);
TMP609[2].typ = (&NTI190010);
TMP609[2].name = "cb";
TMP665[1] = &TMP609[7];
TMP609[7].kind = 1;
TMP609[7].offset = offsetof(FuturebaseHEX3Aobjecttype190009, finished);
TMP609[7].typ = (&NTI130);
TMP609[7].name = "finished";
TMP665[2] = &TMP609[8];
TMP609[8].kind = 1;
TMP609[8].offset = offsetof(FuturebaseHEX3Aobjecttype190009, error);
TMP609[8].typ = (&NTI10010);
TMP609[8].name = "error";
TMP665[3] = &TMP609[9];
TMP609[9].kind = 1;
TMP609[9].offset = offsetof(FuturebaseHEX3Aobjecttype190009, errorstacktrace);
TMP609[9].typ = (&NTI138);
TMP609[9].name = "errorStackTrace";
TMP665[4] = &TMP609[10];
TMP609[10].kind = 1;
TMP609[10].offset = offsetof(FuturebaseHEX3Aobjecttype190009, stacktrace);
TMP609[10].typ = (&NTI138);
TMP609[10].name = "stackTrace";
TMP665[5] = &TMP609[11];
TMP609[11].kind = 1;
TMP609[11].offset = offsetof(FuturebaseHEX3Aobjecttype190009, id);
TMP609[11].typ = (&NTI104);
TMP609[11].name = "id";
TMP665[6] = &TMP609[12];
TMP609[12].kind = 1;
TMP609[12].offset = offsetof(FuturebaseHEX3Aobjecttype190009, fromproc);
TMP609[12].typ = (&NTI138);
TMP609[12].name = "fromProc";
TMP609[1].len = 7; TMP609[1].kind = 2; TMP609[1].sons = &TMP665[0];
NTI190009.node = &TMP609[1];
NTI190002.size = sizeof(FuturebaseHEX3Aobjecttype190009*);
NTI190002.kind = 22;
NTI190002.base = (&NTI190009);
NTI190002.marker = TMP668;
TMP609[0].kind = 1;
TMP609[0].offset = offsetof(Futureerror190008, cause);
TMP609[0].typ = (&NTI190002);
TMP609[0].name = "cause";
NTI190008.node = &TMP609[0];
NTI190604.size = sizeof(Futureerror190008*);
NTI190604.kind = 22;
NTI190604.base = (&NTI190008);
NTI190604.marker = TMP669;
NTI190990.size = sizeof(TY190990);
NTI190990.kind = 18;
NTI190990.base = 0;
TMP674[0] = &TMP609[14];
TMP609[14].kind = 1;
TMP609[14].offset = offsetof(TY190990, Field0);
TMP609[14].typ = (&NTI124);
TMP609[14].name = "Field0";
TMP674[1] = &TMP609[15];
NTI190284.size = sizeof(FutureHEX3Aobjecttype190284);
NTI190284.kind = 17;
NTI190284.base = (&NTI190009);
TMP609[16].len = 0; TMP609[16].kind = 2;
NTI190284.node = &TMP609[16];
NTI190283.size = sizeof(FutureHEX3Aobjecttype190284*);
NTI190283.kind = 22;
NTI190283.base = (&NTI190284);
NTI190283.marker = TMP675;
TMP609[15].kind = 1;
TMP609[15].offset = offsetof(TY190990, Field1);
TMP609[15].typ = (&NTI190283);
TMP609[15].name = "Field1";
TMP609[13].len = 2; TMP609[13].kind = 2; TMP609[13].sons = &TMP674[0];
NTI190990.node = &TMP609[13];
NTI190989.size = sizeof(TY190989*);
NTI190989.kind = 24;
NTI190989.base = (&NTI190990);
NTI190989.marker = TMP676;
NTI197867.size = sizeof(FutureHEX3Aobjecttype197867);
NTI197867.kind = 17;
NTI197867.base = (&NTI190009);
TMP609[17].kind = 1;
TMP609[17].offset = offsetof(FutureHEX3Aobjecttype197867, value);
TMP609[17].typ = (&NTI138);
TMP609[17].name = "value";
NTI197867.node = &TMP609[17];
NTI197866.size = sizeof(FutureHEX3Aobjecttype197867*);
NTI197866.kind = 22;
NTI197866.base = (&NTI197867);
NTI197866.marker = TMP712;
NTI198692.size = sizeof(FutureHEX3Aobjecttype198692);
NTI198692.kind = 17;
NTI198692.base = (&NTI190009);
TMP609[18].kind = 1;
TMP609[18].offset = offsetof(FutureHEX3Aobjecttype198692, value);
TMP609[18].typ = (&NTI104);
TMP609[18].name = "value";
NTI198692.node = &TMP609[18];
NTI198691.size = sizeof(FutureHEX3Aobjecttype198692*);
NTI198691.kind = 22;
NTI198691.base = (&NTI198692);
NTI198691.marker = TMP717;
NTI199569.size = sizeof(FutureHEX3Aobjecttype199569);
NTI199569.kind = 17;
NTI199569.base = (&NTI190009);
NTI199562.size = sizeof(TY199562);
NTI199562.kind = 18;
NTI199562.base = 0;
NTI199562.flags = 2;
TMP721[0] = &TMP609[21];
TMP609[21].kind = 1;
TMP609[21].offset = offsetof(TY199562, Field0);
TMP609[21].typ = (&NTI138);
TMP609[21].name = "Field0";
TMP721[1] = &TMP609[22];
TMP609[22].kind = 1;
TMP609[22].offset = offsetof(TY199562, Field1);
TMP609[22].typ = (&NTI7208);
TMP609[22].name = "Field1";
TMP609[20].len = 2; TMP609[20].kind = 2; TMP609[20].sons = &TMP721[0];
NTI199562.node = &TMP609[20];
TMP609[19].kind = 1;
TMP609[19].offset = offsetof(FutureHEX3Aobjecttype199569, value);
TMP609[19].typ = (&NTI199562);
TMP609[19].name = "value";
NTI199569.node = &TMP609[19];
NTI199568.size = sizeof(FutureHEX3Aobjecttype199569*);
NTI199568.kind = 22;
NTI199568.base = (&NTI199569);
NTI199568.marker = TMP722;
NTI190988.size = sizeof(PdispatcherbaseHEX3Aobjecttype190988);
NTI190988.kind = 17;
NTI190988.base = (&NTI3608);
TMP609[23].kind = 1;
TMP609[23].offset = offsetof(PdispatcherbaseHEX3Aobjecttype190988, timers);
TMP609[23].typ = (&NTI190989);
TMP609[23].name = "timers";
NTI190988.node = &TMP609[23];
NTI196218.size = sizeof(PdispatcherHEX3Aobjecttype196218);
NTI196218.kind = 17;
NTI196218.base = (&NTI190988);
TMP609[24].kind = 1;
TMP609[24].offset = offsetof(PdispatcherHEX3Aobjecttype196218, selector);
TMP609[24].typ = (&NTI193441);
TMP609[24].name = "selector";
NTI196218.node = &TMP609[24];
NTI196208.size = sizeof(PdispatcherHEX3Aobjecttype196218*);
NTI196208.kind = 22;
NTI196208.base = (&NTI196218);
NTI196208.marker = TMP729;
NTI196211.size = sizeof(PdataHEX3Aobjecttype196211);
NTI196211.kind = 17;
NTI196211.base = (&NTI3608);
TMP731[0] = &TMP609[26];
TMP609[26].kind = 1;
TMP609[26].offset = offsetof(PdataHEX3Aobjecttype196211, fd);
TMP609[26].typ = (&NTI7208);
TMP609[26].name = "fd";
TMP731[1] = &TMP609[27];
NTI196204.size = sizeof(TY190810);
NTI196204.kind = 18;
NTI196204.base = 0;
NTI196204.flags = 2;
TMP732[0] = &TMP609[29];
TMP609[29].kind = 1;
TMP609[29].offset = offsetof(TY190810, Field0);
TMP609[29].typ = (&NTI142);
TMP609[29].name = "Field0";
TMP732[1] = &TMP609[30];
TMP609[30].kind = 1;
TMP609[30].offset = offsetof(TY190810, Field1);
TMP609[30].typ = (&NTI190812);
TMP609[30].name = "Field1";
TMP609[28].len = 2; TMP609[28].kind = 2; TMP609[28].sons = &TMP732[0];
NTI196204.node = &TMP609[28];
NTI196213.size = sizeof(TY196213*);
NTI196213.kind = 24;
NTI196213.base = (&NTI196204);
NTI196213.marker = TMP733;
TMP609[27].kind = 1;
TMP609[27].offset = offsetof(PdataHEX3Aobjecttype196211, readcbs);
TMP609[27].typ = (&NTI196213);
TMP609[27].name = "readCBs";
TMP731[2] = &TMP609[31];
TMP609[31].kind = 1;
TMP609[31].offset = offsetof(PdataHEX3Aobjecttype196211, writecbs);
TMP609[31].typ = (&NTI196213);
TMP609[31].name = "writeCBs";
TMP609[25].len = 3; TMP609[25].kind = 2; TMP609[25].sons = &TMP731[0];
NTI196211.node = &TMP609[25];
NTI196206.size = sizeof(PdataHEX3Aobjecttype196211*);
NTI196206.kind = 22;
NTI196206.base = (&NTI196211);
NTI196206.marker = TMP734;
NTI197841.size = sizeof(TY197841);
NTI197841.kind = 18;
NTI197841.base = 0;
TMP742[0] = &TMP609[33];
TMP609[33].kind = 1;
TMP609[33].offset = offsetof(TY197841, HEX3Astate);
TMP609[33].typ = (&NTI107021);
TMP609[33].name = ":state";
TMP742[1] = &TMP609[34];
TMP609[34].kind = 1;
TMP609[34].offset = offsetof(TY197841, retfuture197610);
TMP609[34].typ = (&NTI190283);
TMP609[34].name = "retFuture197610";
TMP609[32].len = 2; TMP609[32].kind = 2; TMP609[32].sons = &TMP742[0];
NTI197841.node = &TMP609[32];
NTI197840.size = sizeof(TY197841*);
NTI197840.kind = 22;
NTI197840.base = (&NTI197841);
NTI197840.marker = TMP743;
NTI198670.size = sizeof(TY198670);
NTI198670.kind = 18;
NTI198670.base = 0;
TMP746[0] = &TMP609[36];
TMP609[36].kind = 1;
TMP609[36].offset = offsetof(TY198670, HEX3Astate);
TMP609[36].typ = (&NTI107021);
TMP609[36].name = ":state";
TMP746[1] = &TMP609[37];
TMP609[37].kind = 1;
TMP609[37].offset = offsetof(TY198670, readbuffer198011);
TMP609[37].typ = (&NTI138);
TMP609[37].name = "readBuffer198011";
TMP746[2] = &TMP609[38];
TMP609[38].kind = 1;
TMP609[38].offset = offsetof(TY198670, size197858);
TMP609[38].typ = (&NTI104);
TMP609[38].name = "size197858";
TMP746[3] = &TMP609[39];
NTI197859.size = sizeof(NU8);
NTI197859.kind = 19;
NTI197859.base = (&NTI182414);
NTI197859.flags = 3;
TMP609[40].len = 0; TMP609[40].kind = 0;
NTI197859.node = &TMP609[40];
TMP609[39].kind = 1;
TMP609[39].offset = offsetof(TY198670, flags197861);
TMP609[39].typ = (&NTI197859);
TMP609[39].name = "flags197861";
TMP746[4] = &TMP609[41];
TMP609[41].kind = 1;
TMP609[41].offset = offsetof(TY198670, retfuture198010);
TMP609[41].typ = (&NTI197866);
TMP609[41].name = "retFuture198010";
TMP609[35].len = 5; TMP609[35].kind = 2; TMP609[35].sons = &TMP746[0];
NTI198670.node = &TMP609[35];
NTI198669.size = sizeof(TY198670*);
NTI198669.kind = 22;
NTI198669.base = (&NTI198670);
NTI198669.marker = TMP750;
NTI199461.size = sizeof(TY199461);
NTI199461.kind = 18;
NTI199461.base = 0;
TMP753[0] = &TMP609[43];
TMP609[43].kind = 1;
TMP609[43].offset = offsetof(TY199461, HEX3Astate);
TMP609[43].typ = (&NTI107021);
TMP609[43].name = ":state";
TMP753[1] = &TMP609[44];
TMP609[44].kind = 1;
TMP609[44].offset = offsetof(TY199461, buf198682);
TMP609[44].typ = (&NTI140);
TMP609[44].name = "buf198682";
TMP753[2] = &TMP609[45];
TMP609[45].kind = 1;
TMP609[45].offset = offsetof(TY199461, size198683);
TMP609[45].typ = (&NTI104);
TMP609[45].name = "size198683";
TMP753[3] = &TMP609[46];
TMP609[46].kind = 1;
TMP609[46].offset = offsetof(TY199461, flags198686);
TMP609[46].typ = (&NTI197859);
TMP609[46].name = "flags198686";
TMP753[4] = &TMP609[47];
TMP609[47].kind = 1;
TMP609[47].offset = offsetof(TY199461, retfuture198810);
TMP609[47].typ = (&NTI198691);
TMP609[47].name = "retFuture198810";
TMP609[42].len = 5; TMP609[42].kind = 2; TMP609[42].sons = &TMP753[0];
NTI199461.node = &TMP609[42];
NTI199460.size = sizeof(TY199461*);
NTI199460.kind = 22;
NTI199460.base = (&NTI199461);
NTI199460.marker = TMP754;
NTI199546.size = sizeof(TY199546);
NTI199546.kind = 18;
NTI199546.base = 0;
TMP756[0] = &TMP609[49];
TMP609[49].kind = 1;
TMP609[49].offset = offsetof(TY199546, HEX3Astate);
TMP609[49].typ = (&NTI107021);
TMP609[49].name = ":state";
TMP756[1] = &TMP609[50];
TMP609[50].kind = 1;
TMP609[50].offset = offsetof(TY199546, data199473);
TMP609[50].typ = (&NTI138);
TMP609[50].name = "data199473";
TMP756[2] = &TMP609[51];
TMP609[51].kind = 1;
TMP609[51].offset = offsetof(TY199546, written199489);
TMP609[51].typ = (&NTI104);
TMP609[51].name = "written199489";
TMP756[3] = &TMP609[52];
TMP609[52].kind = 1;
TMP609[52].offset = offsetof(TY199546, flags199476);
TMP609[52].typ = (&NTI197859);
TMP609[52].name = "flags199476";
TMP756[4] = &TMP609[53];
TMP609[53].kind = 1;
TMP609[53].offset = offsetof(TY199546, retfuture199488);
TMP609[53].typ = (&NTI190283);
TMP609[53].name = "retFuture199488";
TMP609[48].len = 5; TMP609[48].kind = 2; TMP609[48].sons = &TMP756[0];
NTI199546.node = &TMP609[48];
NTI199545.size = sizeof(TY199546*);
NTI199545.kind = 22;
NTI199545.base = (&NTI199546);
NTI199545.marker = TMP757;
NTI200420.size = sizeof(TY200420);
NTI200420.kind = 18;
NTI200420.base = 0;
TMP761[0] = &TMP609[55];
TMP609[55].kind = 1;
TMP609[55].offset = offsetof(TY200420, HEX3Astate);
TMP609[55].typ = (&NTI107021);
TMP609[55].name = ":state";
TMP761[1] = &TMP609[56];
TMP609[56].kind = 1;
TMP609[56].offset = offsetof(TY200420, flags199560);
TMP609[56].typ = (&NTI197859);
TMP609[56].name = "flags199560";
TMP761[2] = &TMP609[57];
TMP609[57].kind = 1;
TMP609[57].offset = offsetof(TY200420, retfuture199610);
TMP609[57].typ = (&NTI199568);
TMP609[57].name = "retFuture199610";
TMP609[54].len = 3; TMP609[54].kind = 2; TMP609[54].sons = &TMP761[0];
NTI200420.node = &TMP609[54];
NTI200419.size = sizeof(TY200420*);
NTI200419.kind = 22;
NTI200419.base = (&NTI200420);
NTI200419.marker = TMP762;
NTI200645.size = sizeof(FutureHEX3Aobjecttype200645);
NTI200645.kind = 17;
NTI200645.base = (&NTI190009);
TMP609[58].kind = 1;
TMP609[58].offset = offsetof(FutureHEX3Aobjecttype200645, value);
TMP609[58].typ = (&NTI7208);
TMP609[58].name = "value";
NTI200645.node = &TMP609[58];
NTI200644.size = sizeof(FutureHEX3Aobjecttype200645*);
NTI200644.kind = 22;
NTI200644.base = (&NTI200645);
NTI200644.marker = TMP766;
NTI202028.size = sizeof(TY202028);
NTI202028.kind = 18;
NTI202028.base = 0;
TMP774[0] = &TMP609[60];
TMP609[60].kind = 1;
TMP609[60].offset = offsetof(TY202028, HEX3Astate);
TMP609[60].typ = (&NTI107021);
TMP609[60].name = ":state";
TMP774[1] = &TMP609[61];
NTI202017.size = sizeof(TY190810);
NTI202017.kind = 18;
NTI202017.base = 0;
NTI202017.flags = 2;
TMP775[0] = &TMP609[63];
TMP609[63].kind = 1;
TMP609[63].offset = offsetof(TY190810, Field0);
TMP609[63].typ = (&NTI142);
TMP609[63].name = "Field0";
TMP775[1] = &TMP609[64];
TMP609[64].kind = 1;
TMP609[64].offset = offsetof(TY190810, Field1);
TMP609[64].typ = (&NTI190812);
TMP609[64].name = "Field1";
TMP609[62].len = 2; TMP609[62].kind = 2; TMP609[62].sons = &TMP775[0];
NTI202017.node = &TMP609[62];
TMP609[61].kind = 1;
TMP609[61].offset = offsetof(TY202028, cb202024);
TMP609[61].typ = (&NTI202017);
TMP609[61].name = "cb202024";
TMP774[2] = &TMP609[65];
TMP609[65].kind = 1;
TMP609[65].offset = offsetof(TY202028, future202016);
TMP609[65].typ = (&NTI199568);
TMP609[65].name = "future202016";
TMP609[59].len = 3; TMP609[59].kind = 2; TMP609[59].sons = &TMP774[0];
NTI202028.node = &TMP609[59];
NTI202027.size = sizeof(TY202028*);
NTI202027.kind = 22;
NTI202027.base = (&NTI202028);
NTI202027.marker = TMP776;
NTI202036.size = sizeof(TY202036);
NTI202036.kind = 18;
NTI202036.base = 0;
TMP778[0] = &TMP609[67];
TMP609[67].kind = 1;
TMP609[67].offset = offsetof(TY202036, HEX3Astate);
TMP609[67].typ = (&NTI107021);
TMP609[67].name = ":state";
TMP778[1] = &TMP609[68];
TMP609[68].kind = 1;
TMP609[68].offset = offsetof(TY202036, retfut200810);
TMP609[68].typ = (&NTI200644);
TMP609[68].name = "retFut200810";
TMP609[66].len = 2; TMP609[66].kind = 2; TMP609[66].sons = &TMP778[0];
NTI202036.node = &TMP609[66];
NTI202035.size = sizeof(TY202036*);
NTI202035.kind = 22;
NTI202035.base = (&NTI202036);
NTI202035.marker = TMP779;
NTI203619.size = sizeof(TY203619);
NTI203619.kind = 18;
NTI203619.base = 0;
TMP782[0] = &TMP609[70];
TMP609[70].kind = 1;
TMP609[70].offset = offsetof(TY203619, HEX3Astate);
TMP609[70].typ = (&NTI107021);
TMP609[70].name = ":state";
TMP782[1] = &TMP609[71];
TMP609[71].kind = 1;
TMP609[71].offset = offsetof(TY203619, socket202766);
TMP609[71].typ = (&NTI7208);
TMP609[71].name = "socket202766";
TMP782[2] = &TMP609[72];
TMP609[72].kind = 1;
TMP609[72].offset = offsetof(TY203619, retfuture202760);
TMP609[72].typ = (&NTI197866);
TMP609[72].name = "retFuture202760";
TMP782[3] = &TMP609[73];
NTI202778.size = sizeof(TY190810);
NTI202778.kind = 18;
NTI202778.base = 0;
NTI202778.flags = 2;
TMP783[0] = &TMP609[75];
TMP609[75].kind = 1;
TMP609[75].offset = offsetof(TY190810, Field0);
TMP609[75].typ = (&NTI142);
TMP609[75].name = "Field0";
TMP783[1] = &TMP609[76];
TMP609[76].kind = 1;
TMP609[76].offset = offsetof(TY190810, Field1);
TMP609[76].typ = (&NTI190812);
TMP609[76].name = "Field1";
TMP609[74].len = 2; TMP609[74].kind = 2; TMP609[74].sons = &TMP783[0];
NTI202778.node = &TMP609[74];
TMP609[73].kind = 1;
TMP609[73].offset = offsetof(TY203619, nameitervar203431);
TMP609[73].typ = (&NTI202778);
TMP609[73].name = "nameIterVar203431";
TMP609[69].len = 4; TMP609[69].kind = 2; TMP609[69].sons = &TMP782[0];
NTI203619.node = &TMP609[69];
NTI203618.size = sizeof(TY203619*);
NTI203618.kind = 22;
NTI203618.base = (&NTI203619);
NTI203618.marker = TMP784;
NTI203611.size = sizeof(TY203611);
NTI203611.kind = 18;
NTI203611.base = 0;
TMP786[0] = &TMP609[78];
NTI203613.size = sizeof(NI);
NTI203613.kind = 20;
NTI203613.base = (&NTI104);
NTI203613.flags = 3;
TMP609[78].kind = 1;
TMP609[78].offset = offsetof(TY203611, HEX3Astate);
TMP609[78].typ = (&NTI203613);
TMP609[78].name = ":state";
TMP786[1] = &TMP609[79];
TMP609[79].kind = 1;
TMP609[79].offset = offsetof(TY203611, result202780);
TMP609[79].typ = (&NTI138);
TMP609[79].name = "result202780";
TMP786[2] = &TMP609[80];
TMP609[80].kind = 1;
TMP609[80].offset = offsetof(TY203611, c202786);
TMP609[80].typ = (&NTI138);
TMP609[80].name = "c202786";
TMP786[3] = &TMP609[81];
TMP609[81].kind = 1;
TMP609[81].offset = offsetof(TY203611, future202762);
TMP609[81].typ = (&NTI197866);
TMP609[81].name = "future202762";
TMP786[4] = &TMP609[82];
TMP609[82].kind = 1;
TMP609[82].offset = offsetof(TY203611, HEX3Aup);
TMP609[82].typ = (&NTI203618);
TMP609[82].name = ":up";
TMP786[5] = &TMP609[83];
TMP609[83].kind = 1;
TMP609[83].offset = offsetof(TY203611, future202763);
TMP609[83].typ = (&NTI197866);
TMP609[83].name = "future202763";
TMP609[77].len = 6; TMP609[77].kind = 2; TMP609[77].sons = &TMP786[0];
NTI203611.node = &TMP609[77];
NTI203610.size = sizeof(TY203611*);
NTI203610.kind = 22;
NTI203610.base = (&NTI203611);
NTI203610.marker = TMP787;
NTI207243.size = sizeof(FutureHEX3Aobjecttype207243);
NTI207243.kind = 17;
NTI207243.base = (&NTI190009);
TMP609[84].kind = 1;
TMP609[84].offset = offsetof(FutureHEX3Aobjecttype207243, value);
TMP609[84].typ = (&NTI207236);
TMP609[84].name = "value";
NTI207243.node = &TMP609[84];
NTI207242.size = sizeof(FutureHEX3Aobjecttype207243*);
NTI207242.kind = 22;
NTI207242.base = (&NTI207243);
NTI207242.marker = TMP844;
NTI208245.size = sizeof(FutureHEX3Aobjecttype208245);
NTI208245.kind = 17;
NTI208245.base = (&NTI190009);
TMP609[85].kind = 1;
TMP609[85].offset = offsetof(FutureHEX3Aobjecttype208245, value);
TMP609[85].typ = (&NTI204204);
TMP609[85].name = "value";
NTI208245.node = &TMP609[85];
NTI208244.size = sizeof(FutureHEX3Aobjecttype208245*);
NTI208244.kind = 22;
NTI208244.base = (&NTI208245);
NTI208244.marker = TMP853;
NTI209628.size = sizeof(TY209628);
NTI209628.kind = 18;
NTI209628.base = 0;
TMP857[0] = &TMP609[87];
TMP609[87].kind = 1;
TMP609[87].offset = offsetof(TY209628, HEX3Astate);
TMP609[87].typ = (&NTI107021);
TMP609[87].name = ":state";
TMP857[1] = &TMP609[88];
NTI209617.size = sizeof(TY190810);
NTI209617.kind = 18;
NTI209617.base = 0;
NTI209617.flags = 2;
TMP858[0] = &TMP609[90];
TMP609[90].kind = 1;
TMP609[90].offset = offsetof(TY190810, Field0);
TMP609[90].typ = (&NTI142);
TMP609[90].name = "Field0";
TMP858[1] = &TMP609[91];
TMP609[91].kind = 1;
TMP609[91].offset = offsetof(TY190810, Field1);
TMP609[91].typ = (&NTI190812);
TMP609[91].name = "Field1";
TMP609[89].len = 2; TMP609[89].kind = 2; TMP609[89].sons = &TMP858[0];
NTI209617.node = &TMP609[89];
TMP609[88].kind = 1;
TMP609[88].offset = offsetof(TY209628, cb209624);
TMP609[88].typ = (&NTI209617);
TMP609[88].name = "cb209624";
TMP857[2] = &TMP609[92];
TMP609[92].kind = 1;
TMP609[92].offset = offsetof(TY209628, future209616);
TMP609[92].typ = (&NTI207242);
TMP609[92].name = "future209616";
TMP609[86].len = 3; TMP609[86].kind = 2; TMP609[86].sons = &TMP857[0];
NTI209628.node = &TMP609[86];
NTI209627.size = sizeof(TY209628*);
NTI209627.kind = 22;
NTI209627.base = (&NTI209628);
NTI209627.marker = TMP859;
NTI213652.size = sizeof(TY213652);
NTI213652.kind = 18;
NTI213652.base = 0;
TMP925[0] = &TMP609[94];
TMP609[94].kind = 1;
TMP609[94].offset = offsetof(TY213652, HEX3Astate);
TMP609[94].typ = (&NTI107021);
TMP609[94].name = ":state";
TMP925[1] = &TMP609[95];
TMP609[95].kind = 1;
TMP609[95].offset = offsetof(TY213652, future213641);
TMP609[95].typ = (&NTI190283);
TMP609[95].name = "future213641";
TMP609[93].len = 2; TMP609[93].kind = 2; TMP609[93].sons = &TMP925[0];
NTI213652.node = &TMP609[93];
NTI213651.size = sizeof(TY213652*);
NTI213651.kind = 22;
NTI213651.base = (&NTI213652);
NTI213651.marker = TMP926;
}

